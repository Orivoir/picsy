{"version":3,"sources":["core/Loader/loader-timer.svg","core/Loader/loader-button.svg","core/Loader/loader-azure.svg","core/Loader/loader-earth.svg","core/firebase/firebase.js","core/firebase/firebase.config.js","core/Loader/Loader.js","core/InputFile/InputFile.js","core/Notif/Notif.js","core/SignIn/SignIn.js","pages/Logged/Logged.jsx","core/User/User.js","core/Confirm/Confirm.js","core/ControlItem/ControlItem.js","core/ListAlbulms/ItemAlbum.js","core/ListAlbulms/ListAlbums.js","pages/Dash/Dash.jsx","core/FormAdd/FormAdd.js","core/ImgFilter/ImgFilter.js","core/ItemImg/ItemImg.js","core/ListImg/ListImg.js","core/ShowAlbum/ShowAlbum.js","pages/AlbumRoute/AlbumRoute.jsx","core/FormFilter/FormFilter.jsx","pages/PictureRoute/PictureRoute.jsx","core/InDev/InDev.js","core/routes.js","pages/ChangeUser/ChangeUser.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","collections","users","collection","albums","pictures","getUser","userID","Promise","resolve","reject","doc","get","then","user","catch","err","pictureSetFilters","pictureID","filters","picture","refPicture","delDouble","filter","f","find","fDelta","key","set","name","createAt","album_id","blob","success","pictureSetFilter","currentFilter","found","newFilter","map","current","JSON","parse","SyntaxError","val","push","stringify","track","getImgsOf","albumID","QuerySnapshot","docs","addAlbum","status","getAlbumsOf","details","add","user_id","Date","now","size","albumUp","refAlbum","album","parseInt","albumDown","getPictureOf","addPicture","pic","rnameImg","rname","pictureAlbumID","rnameAlbum","trim","removePicture","refImg","Function","delete","removeAlbum","id","pics","assoceType","type","LoaderTime","LoaderBtn","LoaderEarth","LoaderAzure","Loader","className","width","full","bg","style","backgroundColor","alt","src","InputFile","label","onChange","autoRead","notif","htmlFor","e","file","target","files","reader","FileReader","evt","addEventListener","result","readAsDataURL","assoceIconType","assoc","Notif","onClose","text","useState","React","createRef","refNotif","ref","onClick","remove","parentNode","removeChild","SignIn","href","Logged","props","state","loader","u","redirect","pseudo","avatar","defaultAvatar","errors","loaderButton","fileName","localStorage","getItem","docCookies","avatarChange","bind","onSubmit","preventDefault","this","length","setState","db","data","setItem","to","test","mssg","placeholder","autoComplete","value","slice","click","error","Component","User","load","getContent","fontSize","effect","place","data-for","data-tip","confirmRef","btnsRef","confirm","cacel","dataBack","Confirm","onConfirm","onCancel","onFinally","textConfirm","textCancel","textGlobal","autoFocus","autoFocusCancel","autoFocusConfirm","icons","title","useEffect","cancel","focus","conf","fin","ControlItem","manualOpen","open","onRemove","onRname","loadRname","errorsRname","onOpen","itemType","closer","setConfirm","inputRname","setInputRname","setRname","firstControl","rnameRef","setTimeout","onMouseEnter","onMouseLeave","onContextMenu","disabled","btnLinkRef","ItemAlbum","item","control","setControl","setLoadRname","visible","setVisible","setName","manualControl","setManualControl","setRedirect","setErrors","refItem","onKeyDown","onPointerUp","nativeEvent","which","ListAlbums","Dash","FormAdd","voidForm","setPicture","refName","margin","buildFilter","Array","styles","forEach","replace","console","log","ImgFilter","figcaption","classFig","ItemImg","even","btnNav","classList","onPointerDown","class","resp","warn","ListImg","items","getPics","ShowAlbum","loaderAlbum","useParams","loaderAddPicture","setLoaderAddPicture","setVoidForm","setPictures","AlbumRoute","loadUser","action","document","location","hash","split","pop","formHide","createWithName","FormFilter","blurValue","contrastValue","grayscaleValue","hueRotate","min","max","defaultValue","unity","PictureRoute","loaderImg","loaderUser","loaderForm","hueRotateValue","timeUpdate","updatePicture","timeUpdateUp","clearInterval","updateID","timeUpdateID","setInterval","currentFilters","toLocaleDateString","delta","InDev","textAlign","fontWeight","color","routes","exact","render","path","App","route","Boolean","window","hostname","match","ReactDOM","getElementById"],"mappings":"kFAAAA,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,2C,mBCA3CD,EAAOC,QAAU,IAA0B,0C,wCCA3CD,EAAOC,QAAU,IAA0B,0C,udCI3CC,gBCJe,CACXC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,8CDFX,IAkbeC,EAjbC,CACZC,MAAOT,cAAqBU,WAAW,SACtCC,OAAQX,cAAqBU,WAAW,UACxCE,SAAUZ,cAAqBU,WAAW,YAC1CG,QAJW,SAIFC,GAAU,IAAD,OAEf,OAAO,IAAIC,SAAS,SAAEC,EAAUC,GAAZ,OAChB,EAAKR,MAAMS,IAAKJ,GAASK,MACxBC,MAAM,SAAAC,GAAI,OACPL,EAASK,EAAKF,IAAI,UAAYE,EAAM,SAEvCC,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAG9BC,kBAdW,SAcQC,EAAYC,GAAW,IAAD,OAExC,OAAO,IAAIX,SAAS,SAACC,EAAUC,GAE7B,EAAKL,SAASM,IAAKO,GAClBN,MACAC,MAAM,SAAAO,GACL,IAAMC,EAAa,EAAKhB,SAASM,IAAKO,GAEhCI,EAAYF,EAAQR,IAAI,WAAWW,QAAQ,SAAAC,GAE7C,OAAQL,EAAQM,MAAM,SAAAC,GAAM,OAAIA,EAAOC,MAAQH,EAAEG,UAIrDN,EAAWT,MACVC,MAAM,kBACLQ,EAAWO,IAAI,CACbC,KAAMT,EAAQR,IAAI,QACjBkB,SAAUV,EAAQR,IAAI,YACtBmB,SAAUX,EAAQR,IAAI,YACtBO,QAAQ,GAAD,mBAAOG,GAAP,YAAsBH,IAC7Ba,KAAMZ,EAAQR,IAAI,UAClBC,MAAM,kBAAMJ,EAAQ,CAACwB,SAAQ,OAC/BlB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SACrBD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAG3BD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAI1BkB,iBA9CW,SA8COhB,EAAYK,GAAU,IAAD,OAEtC,OAAO,IAAIf,SAAS,SAACC,EAAUC,GAE7B,EAAKL,SAASM,IAAKO,GAClBN,MACAC,MAAM,SAAAO,GAEL,IAAIe,EAAgBf,EAAQR,IAAI,WAE5BwB,GAAQ,EACNC,EAAYF,EAAcG,KAAK,SAAAC,GAEjC,IACyB,kBAAZA,IACTA,EAAUC,KAAKC,MAAMF,IAEvB,MAAOG,GAEPH,EAAU,GAOZ,OALGA,EAAQZ,MAAQJ,EAAOI,MACxBY,EAAQI,IAAMpB,EAAOoB,IACrBP,GAAQ,GAGHG,KAINH,GAEHC,EAAUO,KAAMJ,KAAKK,UAAW,CAC9BlB,IAAKJ,EAAOI,IACXgB,IAAKpB,EAAOoB,OAIjB,IAAMtB,EAAa,EAAKhB,SAASM,IAAKO,GAGtCG,EAAWT,MACVC,MAAM,kBACLQ,EAAWO,IAAI,CACbC,KAAMT,EAAQR,IAAI,QACjBkB,SAAUV,EAAQR,IAAI,YACtBmB,SAAUX,EAAQR,IAAI,YACtBO,QAASkB,EAAUd,QAAQ,SAAAuB,GAC1B,IACuB,kBAAVA,IACTA,EAAQN,KAAKC,MAAMK,IACtB,MAAOJ,GACN,OAAO,EAET,OAAOI,EAAMnB,KAAOmB,EAAMH,OAE3BX,KAAMZ,EAAQR,IAAI,UAClBC,MAAM,kBAAMJ,EAAQ,CAACwB,SAAQ,OAC/BlB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SACrBD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAG3BD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAI1B+B,UAhHW,SAgHAC,GAAW,IAAD,OAEpB,OAAO,IAAIxC,SAAS,SAACC,EAAQC,GAAT,OAClB,EAAKN,OAAOO,IAAKqC,GAChBpC,MACAC,MAAM,kBACL,EAAKR,SAASO,MACbC,MAAM,SAAAoC,GAAa,OAClBxC,EAAQwC,EAAcC,KAAK3B,QAAQ,SAAAZ,GAAG,OACpCA,EAAIC,IAAI,cAAgBoC,SAExBjC,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SACxBD,OAAO,SAAAC,GAAG,OAAIN,EAAOM,UAG5BmC,SA/HW,SA+HDtB,EAAOtB,GAAW,IAAD,OAE1B,OAAO,IAAIC,SAAS,SAACC,EAAQC,GAGvBmB,GAAQtB,GAEVG,EAAO,CACL0C,OAAQ,MAGZ,EAAKC,YAAa9C,GAASM,MAAM,SAAAqC,GAE/B,GAAIA,EAAKzB,MAAM,SAAAd,GAAG,OAAIA,EAAIC,IAAI,UAAYiB,KACxC,OAAOpB,EAAS,CACdwB,SAAS,EACRmB,OAAQ,IACTE,QAAS,mBAGX,EAAKlD,OAAOmD,IAAK,CACfC,QAASjD,EACRsB,KAAMA,EACNC,SAAU2B,KAAKC,MACfC,KAAM,IACL9C,MAAM,kBAAMJ,EAAQ,CACtBwB,SAAQ,OAETlB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAEvBD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAI7B4C,QAjKW,SAiKFZ,GAAW,IAAD,OAElB,OAAO,IAAIxC,SAAS,SAAEC,EAASC,GAE7B,IAAMmD,EAAW,EAAKzD,OAAOO,IAAKqC,GAElCa,EAASjD,MAAMC,MAAM,SAAAiD,GAEnBD,EAASjC,IAAK,CACZE,SAAUgC,EAAMlD,IAAI,YACnBiB,KAAMiC,EAAMlD,IAAI,QAChB+C,KAAMI,SAASD,EAAMlD,IAAI,SAAS,EAClC4C,QAASM,EAAMlD,IAAI,aAClBC,MAAM,kBAAMJ,EAAQ,CAACwB,SAAQ,OAChClB,OAAO,SAAAC,GAAG,OAAIN,EAAOM,SAEvBD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAG1BgD,UApLW,SAoLAhB,GAAW,IAAD,OAEpB,OAAO,IAAIxC,SAAS,SAAEC,EAASC,GAE7B,IAAMmD,EAAW,EAAKzD,OAAOO,IAAKqC,GAElCa,EAASjD,MAAMC,MAAM,SAAAiD,GAEnBD,EAASjC,IAAK,CACZE,SAAUgC,EAAMlD,IAAI,YACnBiB,KAAMiC,EAAMlD,IAAI,QAChB+C,KAAMI,SAASD,EAAMlD,IAAI,SAAS,EAClC4C,QAASM,EAAMlD,IAAI,aAClBC,MAAM,kBAAMJ,EAAQ,CAACwB,SAAQ,OAChClB,OAAO,SAAAC,GAAG,OAAIN,EAAOM,SAEvBD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAG1BiD,aAvMW,SAuMGjB,GAAW,IAAD,OAEvB,OAAO,IAAIxC,SAAS,SAAEC,EAASC,GAE7B,IAAKsC,EACH,OAAOtC,IAEP,EAAKL,SAASO,MACbC,MAAO,SAAAoC,GAAa,OACnBxC,EACEwC,EAAcC,KACX3B,QAAQ,SAAAZ,GAAG,OACVA,EAAIC,IAAI,cAAgBoC,aAMrCkB,WAzNW,SA0NVlB,EACAnB,EACAT,GACC,IAAD,OAEA,OAAO,IAAIZ,SAAS,SAACC,EAAQC,GAE3B,KAAMsC,GAAWnB,GAAQT,GACvB,OAAOV,IAET,EAAKN,OAAOO,IAAKqC,GAChBpC,MACAC,MAAM,WAEL,EAAKoD,aAAcjB,GAAUnC,MAC3B,SAAAR,GAEKA,EAASoB,MACV,SAAA0C,GAAG,OAAIA,EAAIvD,IAAI,UAAYiB,KAE3BpB,EAAS,CACPwB,SAAS,EACTmB,OAAQ,MAMV,EAAK/C,SAASkD,IAAK,CACjBxB,SAAUiB,EACThB,KAAMZ,EACNU,SAAU2B,KAAKC,MACf7B,KAAMA,EACNV,QAAS,KACRN,MAAM,WACR,EAAK+C,QAASZ,GAAUnC,MAAM,WAC5BJ,EAAS,CAACwB,SAAS,OACjBlB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAE3BD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,YAM9BD,OAAO,SAAAC,GAAG,OAAIN,EAAQ,CACrB0C,OAAQ,aAMbgB,SA9QW,SA8QDlD,EAAYmD,EAAQC,GAAiB,IAAD,OAE7C,OAAO,IAAI9D,SAAS,SAACC,EAAUC,GAIzBQ,GAAamD,GAEjB3D,IAEA,IAAMW,EAAa,EAAKhB,SAASM,IAAKO,GAEpC,EAAKb,SAASO,MACbC,MAAM,SAAAoC,GAGFA,EAAcC,KAAKzB,MAAM,SAAAd,GAAG,OAC3BA,EAAIC,IAAI,UAAYyD,GACpB1D,EAAIC,IAAI,cAAgB0D,KAmB1B7D,EAAS,CACPwB,SAAS,EACRmB,OAAQ,IACRE,QAAS,wBAnBZjC,EAAWT,MACRC,MAAM,SAAAsD,GACL9C,EAAWO,IAAI,CACbI,KAAMmC,EAAIvD,IAAI,QACbmB,SAAUoC,EAAIvD,IAAI,YAClBO,QAASgD,EAAIvD,IAAI,YAAc,GAC/BiB,KAAMwC,EACNvC,SAAUqC,EAAIvD,IAAI,aAAe6C,KAAKC,QACtC7C,MAAM,kBAAMJ,EAAS,CAACwB,SAAQ,OAChClB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SACrBD,OAAO,SAAAC,GAAG,OAAIP,EAAS,CACzBwB,SAAQ,EACPmB,OAAQ,IACRpC,IAAKA,UAWbD,OAAO,kBAAML,WAInB6D,WA/TW,SA+TCvB,EAAUqB,GAAU,IAAD,OAE9B,OAAO,IAAI7D,SAAS,SAAEC,EAAUC,GAG1BsC,GAAWqB,GAEf3D,IAEA,IAAMmD,EAAW,EAAKzD,OAAOO,IAAKqC,GAElCa,EAASjD,MAAMC,MAAM,SAAAiD,GAEfA,EAAMlD,IAAI,UAAYyD,GACxB5D,EAAQ,CACNwB,SAAS,IAIb4B,EAASjC,IAAI,CACXC,KAAMwC,EACLvC,SAAUgC,EAAMlD,IAAI,YACpB+C,KAAMG,EAAMlD,IAAI,QAChB4C,QAASM,EAAMlD,IAAI,aACnBC,MAAM,kBACPJ,EAAS,CAAEwB,SAAS,UAIpBlB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAI7BqC,YAhWW,SAgWE9C,GAAU,IAAD,OAErB,OAAO,IAAIC,SAAS,SAAEC,EAAUC,GAAZ,OAChB,EAAKN,OAAOQ,MACTC,MAAM,SAAAoC,GAAa,OAClBxC,EAASwC,EAAcC,KAAK3B,QAAQ,SAAAZ,GAAG,OACrCA,EAAIC,IAAI,WAAW4D,SAAWjE,EAAOiE,cAGxCzD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,UAI9ByD,cAAe,SAAUvD,GAAa,IAAD,OAEpC,OAAO,IAAIV,SAAS,SAACC,EAAQC,GAE3B,IAAKQ,EAAY,OAAOR,IAExB,IAAMgE,EAAS,EAAKrE,SAASM,IAAKO,GAElC,IAAKwD,KAAaA,EAAO9D,eAAe+D,UAAa,OAAOlE,EAAQ,CAClE2C,OAAQ,IACRnB,SAAS,IAGXyC,EAAO9D,MAAMC,MAAM,SAAAsD,GAEjBO,EAAOE,SAAS/D,MAAK,WAEnB,EAAKmD,UAAWG,EAAIvD,IAAI,aAAcC,MAAM,WAC1CJ,EAAQ,CACNwB,SAAS,OAETlB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAE3BD,OAAO,kBAAML,cAKnBmE,YAAa,SAAS7B,GAAU,IAAD,OAE9B,OAAO,IAAIxC,SAAS,SAACC,EAAQC,GAEtBsC,GAAUtC,EAAO,CACpB0C,OAAQ,IACP0B,GAAI9B,IAGP,IAAMa,EAAW,EAAKzD,OAAOO,IAAKqC,GAE7Ba,GAAcA,EAASjD,eAAe+D,UACzCjE,EAAQ,CACNmD,SAAUA,EACTiB,GAAI9B,EACJI,OAAQ,MAGbS,EAASjD,MAAMC,MAAM,WACjBgD,EAASe,SACN/D,MAAM,WAEL,EAAKoD,aAAcjB,GAAUnC,MAAM,SAAAkE,GAEjCA,EAAKzC,KAAK,SAAA6B,GAAG,OACT,EAAKM,cAAeN,EAAIW,OAG5BrE,EAAQ,CAACwB,SAAS,OACflB,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAG5BD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,SAEvBD,OAAO,SAAAC,GAAG,OAAIN,EAAQM,W,2HE1apC,SAASgE,EAAYC,GAWjB,MATc,CACV,MAASC,IACR,IAAOC,IACP,OAAUA,IACV,MAASC,IACT,MAASC,IACT,GAAMA,KAGGJ,IAAUC,IA4BbI,MAzBf,YAMG,IALCC,EAKF,EALEA,UACCC,EAIH,EAJGA,MACAC,EAGH,EAHGA,KACAR,EAEH,EAFGA,KACAS,EACH,EADGA,GAGD,OACI,4BACIH,UAAS,iBAAYA,EAAZ,YAAyBE,EAAO,OAAQ,IACjDE,MAAO,CACHC,gBAAiBF,GAAM,gBAG3B,yBACIG,IAAG,iBAAYZ,GACfa,IAAKd,EAAYC,GACjBO,MAAOA,M,yBCeRO,MApDf,YAQG,IAPCR,EAOF,EAPEA,UACCS,EAMH,EANGA,MACAnE,EAKH,EALGA,KACAiD,EAIH,EAJGA,GACAmB,EAGH,EAHGA,SACAC,EAEH,EAFGA,SACAC,EACH,EADGA,MAED,OACI,oCACKH,GACG,2BAAOI,QAAStB,GAAMjD,GACjBmE,GAGT,2BACIT,UAAWA,EACXN,KAAK,OACLpD,KAAMA,EACNiD,GAAIA,GAAMjD,EACVoE,SAAU,SAAAI,GAEN,GAAMJ,aAAoBtB,SAA1B,CAEA,IAAM2B,EAAOD,EAAEE,OAAOC,MAAM,GAE5B,GAAIN,EAAW,CAEX,IAAIlE,EAAO,KAELyE,EAAS,IAAIC,WACbC,EAAMN,EAEZI,EAAOG,iBAAiB,QAAS,SAAAP,GAE7BrE,EAAOqE,EAAEE,OAAOM,OAChBZ,EAAUK,EAAOtE,EAAO2E,MAG5BF,EAAOK,cAAeR,QAGtBL,EAAUK,EAAOD,OAI5BF,I,aC9Cb,SAASY,EAAgB9B,GAErB,IAAM+B,EAAQ,CACV,KAAQ,8BACP,QAAW,8BACX,MAAQ,cACR,MAAS,qBACT,QAAW,sBACX,IAAO,aACN,KAAQ,cACR,KAAQ,0BAGd,OAAOA,EAAO/B,IAAU+B,EAAK,KAkDlBC,MA/Cf,YAKK,IAJDhC,EAIA,EAJAA,KACCM,EAGD,EAHCA,UACA2B,EAED,EAFCA,QACAC,EACD,EADCA,KACD,EAEmBC,mBAAUC,IAAMC,aAA5BC,EAFP,oBAIA,OACI,6BACIC,IAAKD,EACLhC,UAAS,gBAAWA,EAAX,YAAwBN,IAEjC,2BACI,uBAAGM,UAAWwB,EAAe9B,KAE7B,8BACKkC,IAKLD,aAAmBvC,UACf,+BACI,4BACI8C,QAAS,kBAAMP,EAAS,CACpBM,IAAKD,EACJpB,MAAOoB,EAAShF,QAChBmF,OAHmB,WAIhBH,EAAShF,QAAQoF,WAAWC,YACxBL,EAAShF,cAKrB,uBAAGgD,UAAU,qB,MCvC1BsC,MAbf,WACI,OACI,uBAAGtC,UAAU,WAAb,yCACuC,4DADvC,WAGU,uBAAGuC,KAAK,oCACN,uBAAGvC,UAAU,kBADf,0BCCGwC,G,kBAejB,WAAaC,GAAS,IAAD,8BAEjB,4CAAOA,KAfXC,MAAQ,CACJC,OAAQ,kBAAC,EAAD,CAAQzC,MAAI,EAACR,KAAK,KAAKO,MAAO,IAAKE,GAAG,oBAC7CyC,GAAG,EACHC,UAAU,EACVC,OAAQ,GACRC,OAAQP,EAAOQ,cACfC,OAAQ,GACRC,cAAc,EACdC,SAAU,IASX,EAAKnI,OAASoI,aAAaC,QAAQ,WAAaC,IAAWD,QAAQ,UAEnE,EAAKE,aAAe,EAAKA,aAAaC,KAAlB,gBACpB,EAAKC,SAAW,EAAKA,SAASD,KAAd,gBAPC,E,sEAcX1C,GAAK,IAAD,OAEVA,EAAE4C,iBAFQ,IAIHZ,EAAUa,KAAKjB,MAAfI,OAEP,GACMA,EAAOc,QAAU,GACnBd,EAAOc,QAAS,GAUd,CAAC,IAEIb,EAAUY,KAAKjB,MAAfK,OAEPY,KAAKE,SAAU,CACXX,aAAc,kBAAC,EAAD,CAAQjD,MAAO,GAAIP,KAAK,UACtC,WAEA,EAAK+C,MAAMqB,GAAGnJ,MAAMqD,IAAK,CACrB8E,OAAQA,EACPC,OAAQA,IACTzH,MAAM,SAAAyI,GAEN,IAAM/I,EAAS+I,EAAKxE,GAEpB6D,aAAaY,QAAQ,SAAWhJ,GAChCsI,IAAWU,QAAQ,SAAWhJ,GAE9B,EAAK6I,SAAU,CACXhB,SAAU,kBAAC,IAAD,CAAUoB,GAAG,uBA3BnCN,KAAKE,UAAS,SAAAnB,GAAK,MAAM,CACrBO,OAAO,GAAD,mBAAOP,EAAMO,QAAb,CAAqB,kBAAC,EAAD,CACvB7G,IAAK8B,KAAKC,MACVyD,KAAK,yBACLlC,KAAK,QACLiC,QAAU,mBAAcQ,EAAd,EAAEA,qB,mCAmCdpB,EAAMtE,EAAOqE,GAEvB,GAAIC,EAAK3C,MAAQ,KAAO,QAAQ8F,KAAKnD,EAAKrB,MACtCiE,KAAKE,SAAU,CACXd,OAAQtG,EACP0G,SAAUpC,EAAKzE,WAGjB,CAEH,IAAM6H,EAAOpD,EAAK3C,MAAQ,IAAM,0BAA0B,mCAE1DuF,KAAKE,UAAU,SAAAnB,GAAK,MAAM,CACtBO,OAAO,GAAD,mBAAOP,EAAMO,QAAb,CAAsB,kBAAC,EAAD,CACxB7G,IAAK8B,KAAKC,MACVyD,KAAMuC,EACNzE,KAAK,QACLiC,QAAU,mBAAcQ,EAAd,EAAEA,sB,0CAOP,IAAD,OAEXwB,KAAK3I,OAQN2I,KAAKlB,MAAMqB,GAAG/I,QAAQ4I,KAAK3I,QAC1BM,MAAM,SAAAC,GAECA,EACA,EAAKsI,SAAU,CACXhB,SAAU,kBAAC,IAAD,CAAUoB,GAAG,YAI3B,EAAKJ,SAAU,CACXlB,QAAQ,OAhBpBgB,KAAKE,SAAU,CACXlB,QAAQ,M,+BAuBV,IAAD,SASDgB,KAAKjB,MANLC,EAHC,EAGDA,OACCE,EAJA,EAIAA,SACAE,EALA,EAKAA,OACAE,EANA,EAMAA,OACAC,EAPA,EAOAA,aACAC,EARA,EAQAA,SAGL,OACI,6BACInD,UAAU,UAET2C,EACAE,EAED,0BACIY,SAAUE,KAAKF,UAEf,iCACI,yBAAKzD,UAAU,qBACX,2BACIoE,YAAY,SACZ1E,KAAK,OACLpD,KAAK,SACL+H,aAAa,MACb3D,SAAU,SAAAI,GAAC,OACP,EAAK+C,SAAS,CAACf,OAAOhC,EAAEE,OAAOsD,MAAMrF,UAEzCqF,MAAOX,KAAKjB,MAAMI,SAEtB,2BAAOjC,QAAQ,SAASb,UAAS,iBAAY2D,KAAKjB,MAAMI,OAAO7D,OAAO2E,OAAS,SAAS,KAAxF,WAGJ,6BACI,kBAAC,EAAD,CACI5D,UAAU,OACVS,MACI,oCACI,0BAAMT,UAAU,qBAERmD,EACIA,EAASS,OAAS,EAClBT,EAASoB,MAAO,EAAI,GAAM,OAC1BpB,EACA,UAGZ,gCACI,4BACIzD,KAAK,SACLwC,QAAS,SAAApB,GACLA,EAAEE,OAAOoB,WAAWoC,UAGxB,yBACIjE,IAAKwC,EACLzC,IAAI,SACJL,MAAO,MAGf,iDAMZ3D,KAAK,SACLqE,UAAQ,EACRD,SAAU,SAACK,EAAKtE,EAAKqE,GAAX,OACN,EAAKyC,aAAaxC,EAAKtE,EAAKqE,OAKxC,4BAAQpB,KAAK,UACRwD,GAAgB,YAKzB,kBAAC,EAAD,MAECD,EAAOlG,KAAK,SAAA0H,GAAK,OACVA,MAKZ,6BAASzE,UAAU,yBAEX,6JAKA,4BAAQN,KAAK,UAAb,qB,GArOYoC,IAAM4C,YAArBlC,EAaVQ,cAAgB,0D,kCChBrBA,EAAgB,GAsDP2B,MApDf,YAAyB,IAAV/B,EAAS,EAATA,EAAEgC,EAAO,EAAPA,KAEb,OACI,oCACI,6BAAS5E,UAAU,QACd4E,GACG,oCACI,4BACI,yCADJ,mCAIA,yBAAK5E,UAAU,gBACX,gCACA,yBACIO,IAAKqC,EAAEvH,IAAI,WAAa2H,EACxB1C,IAAI,SACJL,MAAM,QAEV,oCACK2C,EAAEvH,IAAI,YAIX,kBAAC,IAAD,CACIkE,GAAG,OACHG,KAAK,OACLmF,WAAY,kBACR,uBAAGzE,MAAO,CACN0E,SAAU,SAEV,uBAAG9E,UAAU,uBAHjB,4BAOJ+E,OAAO,QACPC,MAAM,WAGV,uBAAGC,WAAS,OAAOC,WAAS,gCACxB,kBAAC,WAAD,CAAMjB,GAAG,gBACL,uBAAGjE,UAAU,wBAIzB,kBAAC,EAAD,UChDpBmF,G,YAAarD,IAAMC,aAClBqD,EAAU,CACPC,QAASvD,IAAMC,YACduD,MAAOxD,IAAMC,aAEhBwD,EAAW,CACTtD,IAAKkD,EACLE,QAASF,EAAWnI,SA0FbwI,MAtFf,YAcI,IAbAC,EAaD,EAbCA,UACAC,EAYD,EAZCA,SACAC,EAWD,EAXCA,UACAC,EAUD,EAVCA,YACAC,EASD,EATCA,WACAC,EAQD,EARCA,WACAlE,EAOD,EAPCA,KACA5B,EAMD,EANCA,UACA+F,EAKD,EALCA,UACAC,EAID,EAJCA,gBACAC,EAGD,EAHCA,iBACAC,EAED,EAFCA,MACAC,EACD,EADCA,MAWA,OARAC,qBAAW,WACJJ,EACCZ,EAAQiB,OAAOrJ,QAAQsJ,SAChBL,GAAoBF,IAC3BX,EAAQC,QAAQrI,QAAQsJ,WAK5B,6BACItG,UAAS,kBAAaA,GACtBiC,IAAKkD,GAEFgB,GAAS,4BAAKA,GAEjB,2BACKL,GAAclE,GAGnB,+BACI,4BACIlC,KAAK,SACLM,UAAU,UACVkC,QAAS,WACL,IACIqE,EAAOd,aAAqBrG,SAAWqG,EAAW,aAClDe,EAAMb,aAAqBvG,SAAWuG,EAAW,aAGrDY,EAAMhB,GACNiB,EAAKjB,IAETtD,IAAKmD,EAAQC,SAEZa,GACG,uBAAGlG,UAAU,iBAEjB,8BACK4F,IAIT,4BACI5F,UAAU,SACViC,IAAKmD,EAAQiB,OACb3G,KAAK,SACLwC,QAAS,WAEL,IACImE,EAASX,aAAoBtG,SAAWsG,EAAU,aAClDc,EAAMb,aAAqBvG,SAAWuG,EAAW,aAErDU,EAAQd,GACRiB,EAAKjB,KAGRW,GACG,uBAAGlG,UAAU,iBAEjB,8BACK6F,O,MCqDVY,MA5If,YAYI,IAXAC,EAWD,EAXCA,WACAC,EAUD,EAVCA,KACAhF,EASD,EATCA,QACAiF,EAQD,EARCA,SACAC,EAOD,EAPCA,QACAC,EAMD,EANCA,UACAlI,EAKD,EALCA,IACAmI,EAID,EAJCA,YACAC,EAGD,EAHCA,OACAC,EAED,EAFCA,SACAC,EACD,EADCA,OACD,EAE8BrF,oBAAS,GAFvC,mBAEQwD,EAFR,KAEgB8B,EAFhB,OAGoCtF,oBAAS,GAH7C,mBAGQuF,EAHR,KAGmBC,EAHnB,OAI0BxF,mBAAS,IAJnC,mBAIQ/C,EAJR,KAIcwI,EAJd,OAKwBzF,mBAAUC,IAAMC,aAAhCwF,EALR,sBAMoB1F,mBAAUC,IAAMC,aAA5ByF,EANR,oBAkBC,OAVApB,qBAAW,WAEHO,IAAStB,GACToC,YAAW,WACHF,EAAavK,SACjBuK,EAAavK,QAAQsJ,UACrB,QAKR,wBACItG,UAAS,cACT0H,aAAc,kBAAMV,KACpBW,aAAc,WACLjB,GACD/E,MAIR,wBACI3B,UAAS,UAAK2G,IAAStB,EAAU,GAAG,SAEpC,4BACIuC,cAAe,SAAA9G,GAAC,OAAIA,EAAE4C,kBACtBzB,IAAKsF,EACLvH,UAAS,UAAKoH,EAAa,OAAO,IAClClF,QAAS,WACLmF,GAAc,GACdI,YAAW,kBACPD,EAASxK,QAAQsJ,UAAS,OAIlC,uBAAGtG,UAAU,gBAIjB,0BACQA,UAAS,UAAKoH,EAAa,GAAG,SAC9B3D,SAAU,SAAA3C,GACNA,EAAE4C,iBACFmD,EAAS/H,KAIb,2BACImD,IAAKuF,EACLxH,UAAS,4BAAwBoH,EAAoB,OAAP,QAC9C1H,KAAK,OACLpD,KAAK,QACLoE,SAAU,SAAAI,GAAC,OAAIwG,EAAUxG,EAAEE,OAAOsD,QAClCD,aAAa,MACbD,YAAaxF,EAAIvD,IAAI,QACrBwM,WAAYf,IAGhB,4BACIpH,KAAK,SACLwC,QAAS,kBAAMmF,GAAc,IAC7BrH,UAAS,oBAAeoH,EAAa,GAAG,SAGpCN,GACA,uBAAG9G,UAAU,kBAKjB+G,EAAYhK,KAAK,SAAA0H,GAAK,OAClBA,OAOpB,wBACIzE,UAAS,UAAK2G,IAASS,EAAa,GAAG,SAInC/B,GACI,4BACInD,QAAS,kBACLiF,EACI,kBAAC,EAAD,CACI1B,UAAW,WACPmB,KAEJjB,UAAW,kBAAMwB,GAAY,IAC7BvF,KAAI,kDAA0CqF,EAA1C,YAAsDrI,EAAIvD,IAAI,SAClEuK,YAAY,MACZC,WAAW,MACX7F,UAAU,wCAEVkG,OAAK,EACLH,WAAS,OAIrB,uBAAG/F,UAAU,mBAM7B,wBACIA,UAAS,UAAK2G,IAASS,GAAcF,IAAW7B,EAAU,GAAG,SAE7D,4BACInD,QAAS,kBAAMP,aAAmBvC,SAAWuC,IAAW,OAExD,uBAAG3B,UAAU,qBChI7B8H,G,MAAahG,IAAMC,aA2GRgG,MAxGf,YAGI,IAFAC,EAED,EAFCA,KACAlE,EACD,EADCA,GACD,EAG8BjC,oBAAU,GAHxC,mBAGQoG,EAHR,KAGgBC,EAHhB,OAIkCrG,oBAAU,GAJ5C,mBAIQiF,EAJR,KAIkBqB,EAJlB,OAK8BtG,oBAAU,GALxC,mBAKQuG,EALR,KAKgBC,EALhB,OAMwBxG,mBAAUmG,EAAK3M,IAAI,SAN3C,mBAMQiB,EANR,KAMagM,EANb,OAO0CzG,oBAAU,GAPpD,mBAOQ0G,EAPR,KAOsBC,EAPtB,OAQgC3G,oBAAU,GAR1C,mBAQQgB,EARR,KAQiB4F,EARjB,OAS4B5G,mBAAU,IATtC,mBASQoB,EATR,KASeyF,EATf,OAUmB7G,mBAASC,IAAMC,aAA1B4G,EAVR,oBAYC,OACI,oCACK9F,EACCuF,GACE,wBACAV,aAAc,kBAAMQ,GAAW,IAC/BP,aAAc,kBAAMO,GAAW,IAC/BlI,UAAS,oBAAeoI,EAAU,GAAG,QACrCnG,IAAK0G,GAEL,yBAAK3I,UAAU,eACVgI,EAAK3M,IAAI,QADd,WAGA,4BACI2E,UAAU,YACViC,IAAK6F,EACLc,UAAW,SAAA9H,GACH,QAAQoD,KAAKpD,EAAE1E,MACf8L,GAAY,GACZM,GAAkB,IAE1BtG,QAAS,kBAAMuG,EAAa,kBAAC,IAAD,CAAUxE,GAAE,gBAAW+D,EAAKzI,QACxDqI,cAAe,SAAA9G,GAAC,OAAIA,EAAE4C,mBAEtB,kBAAC,WAAD,CACImF,YAAa,SAAA/H,GACkB,IAAxBA,EAAEgI,YAAYC,QAEbb,GAAW,GACXM,GAAkB,KAG1BvE,GAAE,gBAAW+D,EAAKzI,KAEjBjD,IAIT,iCAEI,+BACI,kBAAC,EAAD,CACI2K,SAAS,QACTL,SAAU,WACN9C,EAAGxE,YAAa0I,EAAKzI,IAAKjE,MAAM,WAC5B+M,GAAY,GACZH,GAAY,OAGpBxB,WAAY6B,EACZvB,OAAQ,kBAAMkB,GAAY,IAC1BrB,QAAS,SAAA/H,GACLqJ,EAAc,kBAAC,EAAD,CACVlI,MAAO,GACPP,KAAK,WAGToE,EAAG9E,WACCgJ,EAAKzI,GACJT,GACHxD,MAAM,WAGJoN,EAAU,GAAD,mBACDzF,GADC,CACQ,kBAAC,EAAD,CACTtB,QAAS,mBAAcQ,EAAd,EAAEA,WACX/F,IAAK8B,KAAKC,MACVyD,KAAK,kDACLlC,KAAK,eAGb4I,EAASxJ,OAGjBgI,UAAWA,EACXnF,QAAS,aACT/C,IAAKoJ,EACLrB,KAAMsB,EACNlB,YAAa9D,SCzE1B+F,MA1Bf,YAAuC,IAAlBnO,EAAiB,EAAjBA,OAAO+J,EAAU,EAAVA,KAAKd,EAAK,EAALA,GAE7B,OACI,wBAAI9D,UAAU,mBAEN4E,IACI/J,EAAO+I,OACP/I,EAAOkC,KAAK,SAAAiL,GAAI,OACZ,kBAAC,EAAD,CACIA,KAAMA,EACN5L,IAAK4L,EAAKzI,GACVuE,GAAIA,OAGR,kBAAC,EAAD,CACIpE,KAAK,QACLkC,KAAK,gCCdZqH,G,kBAajB,WAAaxG,GAAS,IAAD,8BAEjB,4CAAOA,KAbXC,MAAQ,CAEJC,OAAQ,CACJC,EAAG,kBAAC,EAAD,CAAQ3C,MAAO,GAAIP,KAAK,QAAQQ,MAAI,EAACC,GAAG,mBAC3CtF,OAAQ,kBAAC,EAAD,CAAQoF,MAAO,GAAIP,KAAK,QAAQQ,MAAI,EAACC,GAAG,oBAEpDyC,EAAG,KACH/H,OAAQ,GACRgI,UAAU,GAMV,EAAK7H,OAASoI,aAAaC,QAAQ,UAHlB,E,iFAMA,IAAD,OAEXM,KAAK3I,OAON2I,KAAKlB,MAAMqB,GAAG/I,QAAS4I,KAAK3I,QAC3BM,MAAM,SAAAC,GAECA,EACA,EAAKsI,UAAU,SAAAnB,GAAK,MAAK,CACrBC,OAAQ,CAAEC,GAAG,EAAO/H,OAAQ6H,EAAMC,OAAO9H,QACxC+H,EAAGrH,MACF,WAEF,EAAKkH,MAAMqB,GAAGhG,YAAavC,EAAKgE,IAAKjE,MAAM,SAAAqC,GAEvC,EAAKkG,UAAU,SAAAnB,GAAK,MAAK,CACrBC,OAAS,CAAEC,EAAGF,EAAMC,OAAOC,EAAG/H,QAAQ,GACtCA,OAAQ8C,YAOpB,EAAKkG,SAAU,CACXlB,OAAQ,CAACC,GAAG,EAAO/H,QAAQ,GAC3BgI,SAAU,kBAAC,IAAD,CAAUoB,GAAG,WA5BnCN,KAAKE,SAAU,CACXlB,OAAQ,CAACC,GAAG,EAAO/H,QAAQ,GAC3BgI,SAAU,kBAAC,IAAD,CAAUoB,GAAG,U,+BAkCzB,IAAD,EAODN,KAAKjB,MAJLC,EAHC,EAGDA,OACAE,EAJC,EAIDA,SACAhI,EALC,EAKDA,OACA+H,EANC,EAMDA,EAGJ,OACI,6BACI5C,UAAU,QAET6C,EAED,kBAAC,EAAD,CACID,EAAGA,EACHgC,KAAMjC,EAAOC,IAIjB,kBAAC,EAAD,CACIkB,GAAIH,KAAKlB,MAAMqB,GACfjJ,OAAQA,EACR+J,KAAMjC,EAAO9H,SAGjB,2BAAOmF,UAAU,aACb,2BACI,kBAAC,WAAD,CACIiE,GAAG,cAEH,uBAAGjE,UAAU,+B,GA1FP8B,IAAM4C,Y,MCwIzBwE,MA1If,YAA0D,IAAxCxJ,EAAuC,EAAvCA,KAAK+D,EAAkC,EAAlCA,SAASmB,EAAyB,EAAzBA,KAAK5E,EAAoB,EAApBA,UAAUmJ,EAAU,EAAVA,SAAU,EAExBtH,mBAAS,4DAFe,mBAE9ChG,EAF8C,KAEtCuN,EAFsC,OAG1BvH,mBAAS,IAHiB,mBAG9CoB,EAH8C,KAGvCyF,EAHuC,OAI9B7G,mBAAS,IAJqB,mBAI9CvF,EAJ8C,KAIzCgM,EAJyC,OAKnCzG,mBAAUC,IAAMC,aAA3BsH,EAL8C,oBAerD,OARAjD,qBAAW,WAEH+C,IACAE,EAAQrM,QAAQsH,MAAQ,OAM5B,oCACI,0BACAtE,UAAS,kBAAaA,GACtByD,SAAU,SAAA3C,GACNA,EAAE4C,iBAEF,IAAMK,EAAO,CACTzH,KAAMA,EACLT,QAASA,EACTiF,EAAGA,GAGJ,SAASoD,KAAKxE,WACPqE,EAAKlI,QAEhB4H,EAAUM,KAId,yBAAK/D,UAAU,qBACX,2BACIiC,IAAKoH,EACL3J,KAAK,OACL0E,YAAW,mBAAe,SAASF,KAAKxE,GAAgB,QAAR,SAChD2E,aAAa,MACb3D,SAAU,gBAAEM,EAAF,EAAEA,OAAF,OAAcsH,EAAStH,EAAOsD,UAE5C,2BACIzD,QAAQ,OACRb,UAAS,UAAO1D,EAAKsH,OAAS,SAAS,WAF3C,SAIY,SAASM,KAAKxE,GAAgB,QAAR,UAKjC,SAASwE,KAAKxE,GA+Db,KA9DF,kBAAC,EAAD,CACIM,UAAU,OACV1D,KAAK,UACLmE,MACI,oCACA,kBAAC,IAAD,CACQlB,GAAG,cACHG,KAAK,OACLmF,WAAY,kBACR,uBAAGzE,MAAO,CACN0E,SAAU,OACTwE,OAAQ,IAET,uBAAGtJ,UAAU,uBAJjB,4BAQJ+E,OAAO,QACPC,MAAM,QAEV,4BACIE,WAAS,sBACTD,WAAS,eAET,4BACIvF,KAAK,SACLwC,QAAS,SAAApB,GAAC,OAAKA,EAAEE,OAAOoB,WAAWoC,UAEnC,yBACIjE,IAAK1E,EACLyE,IAAI,YACJL,MAAO,QAM3BU,UAAQ,EACRD,SAAU,SAACK,EAAKtE,EAAKqE,GACjB,GACIC,EAAK3C,MAAQ,KACb,SAAS8F,KAAKnD,EAAKrB,MAEnB0J,EAAY3M,OACT,CAEH,IAAM0H,EAAOpD,EAAK3C,KAAO,IACrB,0BACA,wCAGJsK,EAAU,GAAD,mBAAMzF,GAAN,CACL,kBAAC,EAAD,CACI7G,IAAK8B,KAAKC,MACVuB,KAAK,QACLkC,KAAMuC,EACNxC,QAAS,mBAAcQ,EAAd,EAAEA,oBASnC,4BACIzC,KAAK,SACLmI,WAAYjD,GAGRA,GACI,6CACe,SAASV,KAAKxE,GAAkB,QAAV,WAQpDuD,EAAOlG,KAAK,SAAA0H,GAAK,OAAIA,OCxIxB8E,G,MAAc,SAAA3N,GAEhB,KAAMA,aAAmB4N,OAAS,MAAO,GAEzC,IAAIC,EAAS,GAqCb,OAnCA7N,EAAQ8N,SAAS,SAAA1N,GAEb,IAEI,IAAIC,EAAI,KASR,KALIA,EAFkB,kBAAXD,EAEHiB,KAAKC,MAAOlB,GAEZA,GAGAI,MAAOH,EAAEmB,IAAO,OAEpB,IAAI8G,KAAKjI,EAAEmB,MAAQ,MAAM8G,KAAKjI,EAAEG,OAChCH,EAAEmB,IAAMnB,EAAEmB,IAAIuM,QAAQ,IAAM,QAKlB,cAAV1N,EAAEG,MAEDH,EAAEG,IAAM,cAIbqN,GAAM,UAAOxN,EAAEG,IAAT,YAAgBH,EAAEmB,IAAlB,MAER,MAAOD,QAIbyM,QAAQC,IAAKJ,GAENA,IAqCIK,MAlCf,YAMK,IALDtK,EAKA,EALAA,KACAoF,EAIA,EAJAA,KACAmF,EAGA,EAHAA,WACA9J,EAEA,EAFAA,MACA+J,EACA,EADAA,SAGA,OACI,4BACIhK,UAAU,aAET4E,GACG,oCAEKmF,GACG,gCAAY/J,UAAWgK,GAClBD,GAGT,yBACIxJ,IAAKf,EAAKnE,IAAI,QACdiF,IAAKd,EAAKnE,IAAI,QACd+E,MAAO,CACHpE,OAAQuN,EAAa/J,EAAKnE,IAAI,aAElC4E,MAAOA,GAAS,S,MCmEzBgK,MApIf,YAAkC,IAAhBjC,EAAe,EAAfA,KAAKlE,EAAU,EAAVA,GAAGoG,EAAO,EAAPA,KAAO,EAEArI,oBAAU,GAFV,mBAEtBoG,EAFsB,KAEdC,EAFc,OAGArG,oBAAU,GAHV,mBAGtBuG,EAHsB,KAGdC,EAHc,OAIIxG,oBAAU,GAJd,mBAItBiF,EAJsB,KAIZqB,EAJY,OAKFtG,mBAAU,IALR,mBAKtBoB,EALsB,KAKfyF,EALe,OAMZ7G,mBAAUC,IAAMC,aAA1BoI,EANsB,sBAOYtI,oBAAU,GAPtB,mBAOtB0G,EAPsB,KAORC,EAPQ,KAS7B,OACI,oCACMJ,GACE,wBACAV,aAAc,kBAAMyC,EAAOnN,QAAQoN,UAAUjI,OAAO,SACpDwF,aAAc,kBAAMwC,EAAOnN,QAAQoN,UAAUpM,IAAI,SACjDgC,UAAS,kBAAaoI,EAAU,GAAG,OAA1B,YAAoC8B,EAAO,OAAO,KAE3D,kBAAC,WAAD,CACIlK,UAAU,cACViE,GAAE,kBAAa+D,EAAKzI,IACpBqI,cAAe,SAAA9G,GAAC,OAAIA,EAAE4C,kBACtB2G,cAAe,SAAAvJ,GACiB,IAAxBA,EAAEgI,YAAYC,OACdb,GAAaD,IAGrBW,UAAW,SAAA9H,GACH,QAAQoD,KAAKpD,EAAE1E,MAEf8L,GAAaD,KAIrB,kBAAC,EAAD,CACIzI,KAAMwI,EACN+B,WACI,yBACI/J,UAAU,kBAEV,4BACIiC,IAAKkI,EACLnK,UAAU,OAEVkC,QAAS,SAAApB,GACLA,EAAE4C,iBAEF8E,GAAmBP,GACnBC,GAAYD,KAGhB,uBAAGqC,MAAQrC,EAA8B,eAApB,wBAIjC+B,SAAS,eAIjB,kBAAC,EAAD,CACI9C,QAAM,EACND,SAAS,QACTL,SAAU,WACN9C,EAAG5E,cAAe8I,EAAKzI,IAAKjE,MAAM,WAC9B+M,GAAY,GACZH,GAAY,OAGpBxB,WAAY6B,EACZvB,OAAQ,kBAAMkB,GAAY,IAC1BrB,QAAS,SAAA/H,GACLqJ,EAAc,kBAAC,EAAD,CACVlI,MAAO,GACPP,KAAK,WAGToE,EAAGjF,SACCmJ,EAAKzI,GACLT,EACAkJ,EAAK3M,IAAI,aACXC,MAAM,SAAAiP,GAEJpC,GAAc,GAEVoC,EAAK7N,QAGLgM,EAAU,GAAD,mBACDzF,GADC,CACQ,kBAAC,EAAD,CACTtB,QAAS,mBAAcQ,EAAd,EAAEA,WACX/F,IAAK8B,KAAKC,MACVyD,KAAK,gDACLlC,KAAK,eAMO,MAAhB6K,EAAK1M,OAIL6K,EAAU,GAAD,mBAAMzF,GAAN,CAAc,kBAAC,EAAD,CACnB7G,IAAK8B,KAAKC,MACVuB,KAAK,QACLiC,QAAS,mBAAcQ,EAAd,EAAEA,WACXP,KAAI,kBAAa9C,EAAb,0CAKR8K,QAAQY,KAAK,yBAA2BxC,EAAKzI,GAAKyI,EAAK3M,IAAI,aAO3EyL,UAAWA,EACXnF,QAAS,WACLuG,GAAW,IAEftJ,IAAKoJ,EACLrB,KAAMsB,EACNlB,YAAa9D,O,MCrGlBwH,MA1Bf,YAIK,IAHDC,EAGA,EAHAA,MACA9F,EAEA,EAFAA,KACAd,EACA,EADAA,GAGA,OACI,wBACI9D,UAAU,WAGN4E,GACI8F,EAAM3N,KAAK,SAACiL,EAAK5L,GAAN,OACP,kBAAC,EAAD,CACIA,IAAK4L,EAAKzI,GACVyI,KAAMA,EACNlE,GAAIA,EACJoG,QAAS9N,EAAI,UCbnCuO,I,MAAU,SAAC7G,EAAGvE,GAEhB,OAAO,IAAItE,SAAS,SAACC,EAAQC,GAEzB2I,EAAGtG,UAAW+B,GACTjE,MAAM,SAAAkE,GACHtE,EAASsE,MAEZhE,OAAO,SAAAC,GAAG,OAAIN,EAAOM,WA6GnBmP,OAxGf,YAA4C,IAAxB9G,EAAuB,EAAvBA,GAAG+G,EAAoB,EAApBA,YAAYtM,EAAQ,EAARA,MAExBgB,EAAMuL,cAANvL,GAFgC,EAGQsC,oBAAU,GAHlB,mBAGhCkJ,EAHgC,KAGfC,EAHe,OAIZnJ,mBAAS,IAJG,mBAIhCoB,EAJgC,KAIzByF,EAJyB,OAKR7G,oBAAU,GALF,mBAKhCsH,EALgC,KAKvB8B,EALuB,OAMRpJ,mBAAS,CACpCrC,MAAK,EACJmD,OAAO,kBAAC,EAAD,CACJ1C,MAAO,GACPE,GAAG,iBACHT,KAAK,YAX0B,mBAMhC5E,EANgC,KAMvBoQ,EANuB,KAevC,OACI,6BAASlL,UAAU,cAEV6K,GACG,4BACKtM,EAAMlD,IAAI,SAIvB,kBAAC,EAAD,CACIqP,MACK5P,EAAS0E,KAMJ1E,EAAS0E,KALfmL,GAAQ7G,EAAGvE,GAAIjE,MAAM,SAAAkE,GACjB0L,EAAa,CACT1L,KAAKA,EACJmD,QAAO,OAIpBiC,KAAM9J,EAAS6H,OACfmB,GAAIA,IAGR,kBAAC,EAAD,CACIpE,KAAK,UACLyJ,SAAUA,EACV1F,SAAU,YAAqB,IAAnBnH,EAAkB,EAAlBA,KAAKT,EAAa,EAAbA,QAEb,GACIS,EAAKsH,QAAU,IACftH,EAAKsH,QAAU,GACf/H,EAEAmP,EAAqB,kBAAC,EAAD,CAAQtL,KAAK,MAAMO,MAAO,MAC/C6D,EAAGnF,WAAWY,EAAGjD,EAAMT,GACtBP,MAAM,YAAgB,IAAdoB,EAAa,EAAbA,QAELsO,GAAoB,GAEhBtO,GAQAuO,GAAa,GACbxD,YAAW,WACPwD,GAAa,KACd,KACHC,EAAY,CACR1L,KAAK,KAAKmD,OAAO,kBAAC,EAAD,CACjB1C,MAAO,GACPE,GAAG,iBACHT,KAAK,aAITgJ,EAAU,GAAD,mBAAOzF,GAAP,CAAgB,kBAAC,EAAD,CACrB7G,IAAK8B,KAAKC,MACVyD,KAAK,0BACLlC,KAAK,QACLiC,QAAS,mBAAcQ,EAAd,EAAEA,uBAMtB,CAED,IAAMgC,EAAOtI,EAAU,yBAAyB,uCAEhD6M,EAAU,GAAD,mBAAOzF,GAAP,CAAgB,kBAAC,EAAD,CACrB7G,IAAK8B,KAAKC,MACVyD,KAAMuC,EACNzE,KAAK,QACLiC,QAAS,mBAAcQ,EAAd,EAAEA,kBAIvByC,KAAMmG,IAET9H,EAAOlG,KAAK,SAAA0H,GAAK,OAAIA,OC7Gb0G,G,YAgBjB,WAAY1I,GAAQ,IAAD,8BAEf,4CAAOA,KAhBXC,MAAQ,CACJC,OAAQ,kBAAC,EAAD,CAAQ1C,MAAO,GAAIP,KAAK,QAC/BmD,UAAU,EACVuI,SAAU,kBAAC,EAAD,CAAQlL,MAAI,EAACD,MAAO,GAAIP,KAAK,OAAOS,GAAG,mBACjD0K,YAAa,kBAAC,EAAD,CAAQ3K,MAAI,EAACD,MAAO,GAAIP,KAAK,KAAKS,GAAG,mBAClD5B,MAAO,KACP0E,OAAQ,IAWT,EAAKjI,OAASoI,aAAaC,QAAQ,WAAaC,IAAWD,QAAQ,UAE/D,EAAKZ,MAAM4I,SAAWF,EAAWnN,OAEjC,EAAKyE,MAAMqB,GAAGjJ,OAAOO,IAAKkQ,SAASC,SAASC,KAAKC,MAAM,KAAKC,OAC3DrQ,MACAC,MAAM,SAAAiD,GACH,EAAKsF,SAAU,CACXtF,MAAOA,EACNsM,aAAa,OAKrB,EAAK7P,OAON,EAAKyH,MAAMqB,GAAG/I,QAAS,EAAKC,QAC3BM,MAAM,SAAAC,GAECA,EACA,EAAKsI,SAAU,CACXlB,QAAQ,EACRpH,KAAMA,EACL6P,UAAU,IAGf,EAAKvH,SAAU,CACXlB,QAAQ,EACRE,SAAU,kBAAC,IAAD,CAAUoB,GAAG,WAlBnC,EAAKJ,SAAU,CACXlB,QAAQ,EACRE,SAAU,kBAAC,IAAD,CAAUoB,GAAG,QApBhB,E,wEAHf,MAAO,U,8CA+CD,IAAD,OAGAoH,EAAU1H,KAAKlB,MAAf4I,OAAD,EAUI1H,KAAKjB,MARLnH,EAFJ,EAEIA,KACAoH,EAHJ,EAGIA,OACAyI,EAJJ,EAIIA,SACAnI,EALJ,EAKIA,OACA0I,EANJ,EAMIA,SACAC,EAPJ,EAOIA,eACAf,EARJ,EAQIA,YACAtM,EATJ,EASIA,MAIR,OACI,oCACI,kBAAC,EAAD,CAAMqE,EAAGrH,EAAMqJ,KAAMwG,IAEjBC,IAAWF,EAAWnN,MAClB,oCACI,kBAAC,EAAD,CACI4G,KAAMjC,EACN3C,UAAS,UAAK2L,EAAW,OAAO,IAChCjM,KAAK,QACL+D,SAAU,YAAa,IAAXnH,EAAU,EAAVA,KAER,EAAKuH,SAAU,CACXlB,OAAQ,kBAAC,EAAD,CAAQ1C,MAAO,GAAIP,KAAK,UAGhCpD,EAAKsH,QAAU,GAAKtH,EAAKsH,QAAU,GAEnC,EAAKnB,MAAMqB,GAAGlG,SACVtB,EAAOf,EAAKgE,IACdjE,MAAM,SAAAyI,GAEAA,EAAKrH,QACL,EAAKmH,SAAU,CACXlB,QAAQ,EACRgJ,UAAU,EACV1I,OAAQ,GACR2I,eAAgBtP,IAGpB,EAAKuH,UAAU,SAAAnB,GAAK,MAAK,CACrBC,QAAQ,EACRM,OAAO,GAAD,mBAAMP,EAAMO,QAAZ,CACF,kBAAC,EAAD,CACI7G,IAAK8B,KAAKC,MACVuB,KAAK,QACLiC,QAAS,mBAAcQ,EAAd,EAAEA,WACXP,KAAI,kBAAatF,EAAb,iCAMxB,EAAKuH,UAAU,SAAAnB,GAAK,MAAK,CACrBO,OAAO,GAAD,mBAAMP,EAAMO,QAAZ,CACF,kBAAC,EAAD,CACI7G,IAAK8B,KAAKC,MACVuB,KAAK,QACLkC,KAAK,yBACLD,QAAS,mBAAcQ,EAAd,EAAEA,eAGnBQ,QAAQ,SAIvBM,EAEG0I,GACI,kBAAC,EAAD,CACIjM,KAAK,UACLkC,KAAM,6CAEI,kBAAC,WAAD,CACFqC,GAAE,KAEL2H,GALC,+CAWlB,kBAAC,EAAD,CACIlM,KAAK,OACLkC,KAAM,oCACF,kBAAC,WAAD,CAAMqC,GAAG,SAAT,uBAQZ,oCACI,kBAAC,GAAD,CACIH,GAAIH,KAAKlB,MAAMqB,GACf+G,YAAaA,EACbtM,MAAOA,U,GAnKCuD,IAAM4C,WCRzBmH,G,iLAEP,IAAD,EASDlI,KAAKlB,MANLqJ,EAHC,EAGDA,UACCpL,EAJA,EAIAA,SACAkE,EALA,EAKAA,KACAmH,EANA,EAMAA,cACAC,EAPA,EAOAA,eACAC,EARA,EAQAA,UAGL,OACI,oCAEQrH,GACI,8BACI,6BACI,2CAAiBkH,GAAa,EAA9B,KACA,2BACIpM,KAAK,QACLwM,IAAI,IACJC,IAAI,MACJC,aAAcN,GAAa,EAC3BpL,SAAU,SAAAI,GACNA,EAAE4C,iBACFhD,EAAU,CACNtE,IAAK,OACJiQ,MAAO,KACPjP,IAAKoB,SAASsC,EAAEE,OAAOsD,MAAM,SAK9C,6BACI,4CAAmByH,GAAmC,IAAlBA,EAAuBA,EAAgB,IAA3E,KACA,2BACIrM,KAAK,QACLwM,IAAI,IACJC,IAAI,OACJC,aAAeL,GAAmC,IAAlBA,EAAuBA,EAAgB,IACvErL,SAAU,SAAAI,GACNA,EAAE4C,iBACFhD,EAAU,CACNtE,IAAK,WACJiQ,MAAO,IACPjP,IAAKoB,SAASsC,EAAEE,OAAOsD,MAAM,SAK9C,6BACI,0CAAgB0H,GAAkB,EAAlC,KACA,2BACItM,KAAK,QACLwM,IAAI,IACJC,IAAI,MACJC,aAAcJ,GAAkB,EAChCtL,SAAU,SAAAI,GACNA,EAAE4C,iBACFhD,EAAU,CACNtE,IAAK,YACJiQ,MAAO,IACPjP,IAAKoB,SAASsC,EAAEE,OAAOsD,aAKxC,6BACI,sCAAY2H,GAAa,EAAzB,cACA,2BACIvM,KAAK,QACLwM,IAAI,QACJC,IAAI,OACJC,aAAcH,GAAa,EAC3BvL,SAAU,SAAAI,GACNA,EAAE4C,iBACFhD,EAAU,CACNtE,IAAK,YACJiQ,MAAO,MACPjP,IAAKoB,SAASsC,EAAEE,OAAOsD,mB,GAjF5BxC,IAAM4C,WCOzB4H,I,kBAgBjB,WAAa7J,GAAS,IAAD,8BAEjB,4CAAOA,KAhBXC,MAAQ,CACJ6J,UAAW,kBAAC,EAAD,CAAQtM,MAAO,GAAIP,KAAK,QAAQS,GAAG,mBAC7CqM,WAAY,kBAAC,EAAD,CAAQvM,MAAO,GAAIP,KAAK,QAAQS,GAAG,uBAC/CsM,WAAY,kBAAC,EAAD,CAAQxM,MAAO,GAAIP,KAAK,KAAKS,GAAG,uBAC5C5E,KAAM,KACNM,QAAS,KACTgH,SAAU,KACViJ,UAAW,KACXC,cAAe,KACfC,eAAgB,KAChBU,eAAgB,KAChBC,WAAY,IAOb,EAAKhR,UAAY2P,SAASC,SAASC,KAAKC,MAAM,KAAKC,MACnD,EAAK1Q,OAASoI,aAAaC,QAAQ,WAAaC,IAAWD,QAAQ,UACnE,EAAKuJ,cAAgB,EAAKA,cAAcpJ,KAAnB,gBACrB,EAAKqJ,aAAe,EAAKA,aAAarJ,KAAlB,gBAPH,E,oFAYjBsJ,cAAenJ,KAAKoJ,UACpBD,cAAenJ,KAAKqJ,gB,0CAGH,IAAD,OAIXrJ,KAAK3I,OAQN2I,KAAKlB,MAAMqB,GAAG/I,QAAS4I,KAAK3I,QAC3BM,MAAM,SAAAC,GAECA,EAEA,EAAKsI,SAAU,CACXjB,EAAGrH,EACFiR,YAAY,IACb,WAEA,EAAK/J,MAAMqB,GAAGhJ,SAASM,IAAK,EAAKO,WAChCN,MACAC,MAAM,SAAAO,GACH,EAAKgI,SAAS,CACVhI,QAASA,EACR0Q,WAAW,EACXE,YAAY,EACZX,UAAsF,EAA3EtN,UAAU3C,EAAQR,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,SAAVA,EAAEG,QAAoB,IAAIgB,KACjF2O,cAAevN,UAAU3C,EAAQR,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,aAAVA,EAAEG,QAAwB,IAAIgB,KACzF4O,eAAgBxN,UAAU3C,EAAQR,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,cAAVA,EAAEG,QAAyB,IAAIgB,KAC3FsP,eAAgBlO,UAAU3C,EAAQR,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,eAAVA,EAAEG,QAA0B,IAAIgB,OAC7F,WAEA,EAAK2P,SAAWE,YAAa,EAAKL,cAAgB,KAClD,EAAKI,aAAeC,YAAa,EAAKJ,aAAe,WAI5DrR,OAAO,SAAAC,GACJ,EAAKoI,SAAU,CACX0I,UAAW,KACVC,WAAY,KACZ3J,SAAU,kBAAC,IAAD,CAAUoB,GAAG,cAOpC,EAAKJ,SAAU,CACX0I,UAAW,KACVC,WAAY,KACZ3J,SAAU,kBAAC,IAAD,CAAUoB,GAAG,WAjDpCN,KAAKE,SAAU,CACX0I,UAAW,KACVC,WAAY,KACZ3J,SAAU,kBAAC,IAAD,CAAUoB,GAAG,U,qCAwDhCN,KAAKE,UAAU,SAAAnB,GAAK,MAAK,CAAEiK,WAAYjK,EAAMiK,WAAW,GAAK,EAAIjK,EAAMiK,WAAW,EAAG,Q,sCAGxE,IAAD,OAEL9Q,EAAW8H,KAAKjB,MAAhB7G,QAEHqR,EAAiB9J,aAAaC,QAAb,kBAAiCxH,EAAQ0D,KAE9D,IAEI2N,EAAiBjQ,KAAKC,MAAOgQ,GAE/B,MAAO/P,GAEL+P,EAAiB,GANrB,QASSA,IACDA,EAAiB,IAGzBzF,YAAW,WACP,EAAK5D,SAAU,CACX4I,WAAY,kBAAC,EAAD,CAAQxM,MAAO,GAAIP,KAAK,KAAKS,GAAG,2BAEjD,KAEHwD,KAAKlB,MAAMqB,GAAGpI,kBACVG,EAAQ0D,GAAK2N,GACf5R,MAAM,WAGJ,EAAKmH,MAAMqB,GAAGhJ,SAASM,IAAK,EAAKO,WAChCN,MACAC,MAAM,SAAAsD,GACH,EAAKiF,SAAU,CACXhI,QAAS+C,EACR6N,YAAY,EACZX,UAAoF,EAAzEtN,UAAUI,EAAIvD,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,SAAVA,EAAEG,QAAoB,IAAIgB,KAC7E2O,cAAevN,UAAUI,EAAIvD,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,aAAVA,EAAEG,QAAwB,IAAIgB,KACrF4O,eAAgBxN,UAAUI,EAAIvD,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,cAAVA,EAAEG,QAAyB,IAAIgB,KACvFsP,eAAgBlO,UAAU3C,EAAQR,IAAI,WAAWa,MAAM,SAAAD,GAAC,MAAc,eAAVA,EAAEG,QAA0B,IAAIgB,KAC5FuP,WAAY,a,+BAOnB,IAAD,SAaDhJ,KAAKjB,MAVL6J,EAHC,EAGDA,UACCC,EAJA,EAIAA,WACAC,EALA,EAKAA,WACA7J,EANA,EAMAA,EACA/G,EAPA,EAOAA,QACAiQ,EARA,EAQAA,UACAC,EATA,EASAA,cACAC,EAVA,EAUAA,eACAU,EAXA,EAWAA,eACAC,EAZA,EAYAA,WAGL,OACI,6BACI3M,UAAU,gBAGV,gCACI,kBAAC,EAAD,CACI4C,EAAGA,EACHgC,KAAM4H,KAId,+BACI,kBAAC,EAAD,CACI5H,KAAM2H,EACN/M,KAAM3D,EACNmO,SAAS,aACTD,WACI,qCAESwC,GACG,oCACI,2BAAI1Q,EAAQR,IAAI,SADpB,KAEM,2BAAI,IAAI6C,KAAKrC,EAAQR,IAAI,aAAa8R,wBAM5DlN,MAAO,OAIf,4BAESwM,GACG,oCACI,0DAC8BE,GAE9B,6BACA,4BACIzK,QAAS,WACL4K,cAAe,EAAKC,UACpB,EAAKH,gBACL,EAAKG,SAAWE,YAAa,EAAKL,cAAgB,KAClD,EAAK/I,SAAU,CAAE8I,WAAY,OALrC,gBAehB,kBAAC,GAAD,CACI/H,KAAM6H,EACNV,cAAeA,EACfD,UAAWA,EACXE,eAAgBA,EAChBC,UAAWS,EACXhM,SAAU,YAAsB,IAApBtE,EAAmB,EAAnBA,IAAIgB,EAAe,EAAfA,IAAIiP,EAAW,EAAXA,MAEZa,EAAiB9J,aAAaC,QAAb,kBAAiCxH,EAAQ0D,KAE9D,IAEI2N,EAAiBjQ,KAAKC,MAAOgQ,GAC/B,MAAO/P,GAEL+P,EAAiB,GALrB,QAQSA,IACDA,EAAiB,IAGzB,IAAIrQ,GAAQ,EACZqQ,EAAiBA,EAAenQ,KAAK,SAAAf,GAMjC,OAJGA,EAAOI,MAAQA,IACdJ,EAAOoB,IAAMA,EAAIiP,EACjBxP,GAAQ,GAELb,KAGNa,GACDqQ,EAAe7P,KAAM,CACjBjB,IAAKA,EACJgB,IAAKA,EAAIiP,IAGlBjJ,aAAaY,QAAb,kBACenI,EAAQ0D,IACnBtC,KAAKK,UAAW4P,IAGpB,IAAME,EAAQ,GAEF,SAARhR,IACAgB,GAAO,GAEXgQ,EAAOhR,EAAI,SAAYoC,SAAUpB,GAEjC,EAAKyG,SAAUuJ,W,GA3QGtL,IAAM4C,YCiDjC2I,OAtDf,WAEI,OACI,oCACI,wBACIjN,MAAO,CACHkN,UAAW,SACVC,WAAY,MAHrB,6EAMwE,6BANxE,kCAQI,uBACIhL,KAAK,mCACLnC,MAAO,CACHoN,MAAO,kBAGX,uBAAGxN,UAAU,kBANjB,UAWJ,kBAAC,EAAD,CACIN,KAAK,MACLkC,KACI,qEAEI,uBAAG5B,UAAU,mBAIzB,6BACA,kBAAC,EAAD,CACIN,KAAK,QACLkC,KACI,0GAKR,6BACA,kBAAC,EAAD,CACIlC,KAAK,OACLkC,KACI,kBAAC,WAAD,CAAMqC,GAAG,SAAT,wBCcLwJ,GAzDA,CACX,CACIlO,GAAG,EACHmO,OAAM,EACNC,OAAQnL,EACRC,MAAO,GACPmL,KAAM,IACNtR,KAAM,QAEV,CACIiD,GAAG,EACHmO,OAAM,EACNC,OAAQ1E,EACRxG,MAAO,GACPmL,KAAM,QACNtR,KAAM,aAEV,CACIiD,GAAG,EACHmO,OAAM,EACNC,OAAQxC,GACR1I,MAAO,CACH4I,OAAQ,OAEZuC,KAAM,aACNtR,KAAM,aAEV,CACIiD,GAAG,EACHmO,OAAM,EACNC,OAAQxC,GACR1I,MAAO,CACH4I,OAAQ,QAEZuC,KAAM,aACNtR,KAAM,cAEV,CACIiD,GAAG,EACHmO,OAAM,EACNC,OAAQrB,GACR7J,MAAO,GACPmL,KAAM,cACNtR,KAAM,gBAEV,CACIiD,GAAG,EACHmO,OAAM,EACNC,O,iLC/CA,OACI,oCACI,kBAAC,GAAD,W,GANuB7L,IAAM4C,WDoDrCjC,MAAO,CACH4I,OAAQ,UAEZuC,KAAM,eACNtR,KAAM,iBE7BCuR,OAzBf,WAEE,OACE,oCACE,kBAAC,IAAD,KAEIJ,GAAO1Q,KAAK,SAAA+Q,GAAK,OACf,kBAAC,IAAD,CACE1R,IAAK0R,EAAMvO,GACXqO,KAAME,EAAMF,KACZF,MAAOI,EAAMJ,MACbC,OAAQ,kBACN,kBAACG,EAAMH,OAAP,iBACMG,EAAMrL,MADZ,CAEEqB,GAAIpJ,cCPFqT,QACW,cAA7BC,OAAOzC,SAAS0C,UAEe,UAA7BD,OAAOzC,SAAS0C,UAEhBD,OAAOzC,SAAS0C,SAASC,MACvB,2D,aCXNC,IAASR,OACL,kBAAC,cAAD,KACI,kBAAC,GAAD,OAEFrC,SAAS8C,eAAe,W","file":"static/js/main.a404ca7b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loader-timer.8835a88b.svg\";","module.exports = __webpack_public_path__ + \"static/media/loader-button.3de4de61.svg\";","module.exports = __webpack_public_path__ + \"static/media/loader-azure.df696f68.svg\";","module.exports = __webpack_public_path__ + \"static/media/loader-earth.5f4bc2b1.svg\";","import firebaseCfg from './firebase.config';\r\nimport * as firebase from 'firebase';\r\n\r\n\r\nfirebase.initializeApp( firebaseCfg );\r\nconst\r\n  collections = {\r\n    users: firebase.firestore().collection('users')\r\n    ,albums: firebase.firestore().collection('albums')\r\n    ,pictures: firebase.firestore().collection('pictures')\r\n    ,getUser( userID ) {\r\n\r\n        return new Promise( ( resolve , reject ) => (\r\n            this.users.doc( userID ).get()\r\n            .then( user => (\r\n                resolve( user.get('pseudo') ? user: null )\r\n            ) )\r\n            .catch( err => reject( err ) )\r\n        ) ) ;\r\n    }\r\n    ,pictureSetFilters( pictureID , filters ) {\r\n\r\n      return new Promise( (resolve , reject) => {\r\n\r\n        this.pictures.doc( pictureID )\r\n        .get()\r\n        .then( picture => { // picture exists\r\n          const refPicture = this.pictures.doc( pictureID ) ;\r\n          \r\n          const delDouble = picture.get('filters').filter( f => {\r\n\r\n              return !filters.find( fDelta => fDelta.key === f.key )\r\n          } ) ;\r\n\r\n          // set picture\r\n          refPicture.get()\r\n          .then( () => (\r\n            refPicture.set({\r\n              name: picture.get('name')\r\n              ,createAt: picture.get('createAt')\r\n              ,album_id: picture.get('album_id')\r\n              ,filters: [ ...delDouble , ...filters ]\r\n              ,blob: picture.get('blob') \r\n            }).then( () => resolve({success:true}) )\r\n            .catch( err => reject( err ) )\r\n          ) ).catch( err => reject( err ) ) ;\r\n\r\n        } )\r\n        .catch( err => reject( err ) ) ;\r\n\r\n      } ) ;\r\n    }\r\n    ,pictureSetFilter( pictureID , filter ) {\r\n\r\n      return new Promise( (resolve , reject) => {\r\n\r\n        this.pictures.doc( pictureID )\r\n        .get()\r\n        .then( picture => { // picture exists\r\n\r\n          let currentFilter = picture.get('filters') ;\r\n          \r\n          let found = false;\r\n          const newFilter = currentFilter.map( current => {\r\n\r\n              try {\r\n                if( typeof current === 'string' )\r\n                  current = JSON.parse(current)\r\n\r\n              } catch( SyntaxError ) {\r\n                \r\n                current = {};\r\n              }\r\n              if(current.key === filter.key) {\r\n                current.val = filter.val;\r\n                found = true;\r\n              }\r\n\r\n              return current ;\r\n\r\n          }  ) ;\r\n\r\n          if( !found ) {\r\n\r\n            newFilter.push( JSON.stringify( {\r\n              key: filter.key\r\n              ,val: filter.val\r\n            } ) ) ;\r\n          }\r\n\r\n          const refPicture = this.pictures.doc( pictureID ) ;\r\n          \r\n          // set picture\r\n          refPicture.get()\r\n          .then( () => (\r\n            refPicture.set({\r\n              name: picture.get('name')\r\n              ,createAt: picture.get('createAt')\r\n              ,album_id: picture.get('album_id')\r\n              ,filters: newFilter.filter( track => {\r\n                try {\r\n                  if( typeof track === 'string' )\r\n                    track = JSON.parse(track);\r\n                }catch( SyntaxError ) {\r\n                  return false;\r\n                }\r\n                return track.key && track.val;\r\n              })\r\n              ,blob: picture.get('blob') \r\n            }).then( () => resolve({success:true}) )\r\n            .catch( err => reject( err ) )\r\n          ) ).catch( err => reject( err ) ) ;\r\n\r\n        } )\r\n        .catch( err => reject( err ) ) ;\r\n\r\n      } ) ;\r\n    }\r\n    ,getImgsOf( albumID ) {\r\n\r\n      return new Promise( (resolve,reject) => (\r\n        this.albums.doc( albumID )\r\n        .get()\r\n        .then( () => (\r\n          this.pictures.get()\r\n          .then( QuerySnapshot => (\r\n            resolve(QuerySnapshot.docs.filter( doc => (\r\n              doc.get('album_id') === albumID\r\n            ) ) )\r\n          ) ).catch( err => reject( err ) )\r\n        ) ).catch( err => reject(err) )\r\n       ) ) ;\r\n    }\r\n    ,addAlbum( name , userID  ) {\r\n\r\n      return new Promise( (resolve,reject) => {\r\n\r\n        if(\r\n          !(name || userID)\r\n        )\r\n          reject({\r\n            status: 401\r\n          });\r\n\r\n        this.getAlbumsOf( userID ).then( docs => {\r\n\r\n          if( docs.find( doc => doc.get('name') === name ) )\r\n            return resolve( {\r\n              success: false\r\n              ,status: 401,\r\n              details: 'already exists' \r\n            } ) ;\r\n\r\n            this.albums.add( {\r\n              user_id: userID\r\n              ,name: name\r\n              ,createAt: Date.now()\r\n              ,size: 0\r\n            } ).then( () => resolve({\r\n              success:true\r\n            }) )\r\n            .catch( err => reject( err ) ) ;\r\n\r\n        } ).catch( err => reject( err ) ) ;\r\n\r\n      } ) ;\r\n    }\r\n    ,albumUp( albumID ) {\r\n\r\n      return new Promise( ( resolve, reject ) => {\r\n\r\n        const refAlbum = this.albums.doc( albumID ) ;\r\n\r\n        refAlbum.get().then( album => {\r\n\r\n          refAlbum.set( {\r\n            createAt: album.get('createAt')\r\n            ,name: album.get('name')\r\n            ,size: parseInt(album.get('size'))+1\r\n            ,user_id: album.get('user_id') \r\n          } ).then( () => resolve({success:true}) )\r\n          .catch( err => reject(err) ) ;\r\n        } )\r\n        .catch( err => reject( err) ) ;\r\n      });\r\n    }\r\n    ,albumDown( albumID ) {\r\n\r\n      return new Promise( ( resolve, reject ) => {\r\n\r\n        const refAlbum = this.albums.doc( albumID ) ;\r\n\r\n        refAlbum.get().then( album => {\r\n\r\n          refAlbum.set( {\r\n            createAt: album.get('createAt')\r\n            ,name: album.get('name')\r\n            ,size: parseInt(album.get('size'))-1\r\n            ,user_id: album.get('user_id') \r\n          } ).then( () => resolve({success:true}) )\r\n          .catch( err => reject(err) ) ;\r\n        } )\r\n        .catch( err => reject( err) ) ;\r\n      });\r\n    }\r\n    ,getPictureOf( albumID ) {\r\n\r\n      return new Promise( ( resolve, reject ) => {\r\n\r\n        if( !albumID )\r\n          return reject();\r\n\r\n          this.pictures.get()\r\n          .then(  QuerySnapshot => (\r\n            resolve(\r\n              QuerySnapshot.docs\r\n                .filter( doc => (\r\n                  doc.get('album_id') === albumID )\r\n                ) )\r\n            )\r\n          )\r\n      } ) ;\r\n    }\r\n    ,addPicture(\r\n      albumID,\r\n      name,\r\n      picture\r\n    ) {\r\n\r\n      return new Promise( (resolve,reject) => {\r\n\r\n        if( !(albumID || name || picture ) )\r\n          return reject();\r\n\r\n        this.albums.doc( albumID )\r\n        .get()\r\n        .then( () => {\r\n\r\n          this.getPictureOf( albumID ).then( \r\n            pictures => {\r\n             \r\n              if(pictures.find(\r\n                pic => pic.get('name') === name \r\n              )) {\r\n                resolve( {\r\n                  success: false,\r\n                  status: 401\r\n                } ) ;\r\n              } else {\r\n\r\n\r\n\r\n                this.pictures.add( {\r\n                  album_id: albumID\r\n                  ,blob: picture\r\n                  ,createAt: Date.now()\r\n                  ,name: name\r\n                  ,filters: []\r\n                } ).then( () => {\r\n                  this.albumUp( albumID ).then( () => {\r\n                    resolve( {success: true} )\r\n                  } ).catch( err => reject( err ) )\r\n                } )\r\n                .catch( err => reject( err ) )\r\n              }\r\n            }\r\n          )\r\n\r\n        } )\r\n        .catch( err => reject( {\r\n          status: 404\r\n        } ) )\r\n         \r\n      } ) ;\r\n\r\n    }\r\n    ,rnameImg( pictureID , rname , pictureAlbumID) {\r\n\r\n      return new Promise( (resolve , reject) => {\r\n\r\n        \r\n        if(\r\n          !(pictureID || rname )\r\n        )\r\n        reject();\r\n\r\n        const refPicture = this.pictures.doc( pictureID ) ;\r\n\r\n          this.pictures.get()\r\n          .then( QuerySnapshot  => {\r\n\r\n            if( \r\n              !QuerySnapshot.docs.find( doc => (\r\n                doc.get('name') === rname &&\r\n                doc.get('album_id') === pictureAlbumID                 \r\n              ) ) \r\n            ) {    \r\n              refPicture.get()\r\n                .then( pic => {\r\n                  refPicture.set({\r\n                    blob: pic.get('blob')\r\n                    ,album_id: pic.get('album_id')\r\n                    ,filters: pic.get('filters') || []\r\n                    ,name: rname\r\n                    ,createAt: pic.get('createAt') || Date.now()\r\n                  }).then( () => resolve( {success:true} ) )\r\n                  .catch( err => reject( err ) ) ;\r\n                } ).catch( err => resolve( {\r\n                  success:false\r\n                  ,status: 404\r\n                  ,err: err\r\n                } ) ) ;\r\n            } else {\r\n              resolve( {\r\n                success: false\r\n                ,status: 401 // 401 Bad Request\r\n                ,details: 'name already exists'\r\n              } )\r\n            }\r\n\r\n          } )\r\n          .catch( () => reject() ) ;\r\n\r\n      } ) ;\r\n    }\r\n    ,rnameAlbum( albumID , rname  ) {\r\n\r\n      return new Promise( ( resolve , reject ) => {\r\n\r\n        if(\r\n          !(albumID || rname )\r\n        )\r\n        reject();\r\n\r\n        const refAlbum = this.albums.doc( albumID ) ;\r\n\r\n        refAlbum.get().then( album => {\r\n\r\n          if( album.get('name') === rname ) {\r\n            resolve({\r\n              success: true\r\n            }) ;\r\n          }\r\n\r\n          refAlbum.set({\r\n            name: rname\r\n            ,createAt: album.get('createAt')\r\n            ,size: album.get('size')\r\n            ,user_id: album.get('user_id')\r\n          }).then( () => (\r\n            resolve( { success: true } )\r\n          ) ) ;\r\n\r\n\r\n        } ).catch( err => reject( err ) ) ;\r\n\r\n      } ) ; \r\n    }\r\n    ,getAlbumsOf( userID ) {\r\n\r\n      return new Promise( ( resolve , reject ) => (\r\n          this.albums.get()\r\n            .then( QuerySnapshot => (\r\n              resolve( QuerySnapshot.docs.filter( doc => (\r\n                doc.get('user_id').trim() === userID.trim()\r\n              ) ) )\r\n            ) )\r\n            .catch( err => reject( err ) )\r\n      )  ) ;\r\n\r\n    }\r\n    ,removePicture: function( pictureID ) {\r\n\r\n      return new Promise( (resolve,reject) => {\r\n\r\n        if( !pictureID ) return reject();\r\n\r\n        const refImg = this.pictures.doc( pictureID ) ;\r\n\r\n        if( !refImg || !( refImg.get instanceof Function ) ) return resolve({\r\n          status: 404,\r\n          success: false\r\n        });\r\n\r\n        refImg.get().then( pic => {\r\n\r\n          refImg.delete().then(() => { \r\n\r\n            this.albumDown( pic.get('album_id') ).then( () => {\r\n              resolve({\r\n                success: true\r\n              } )\r\n            } ).catch( err => reject( err ) ) ;\r\n          })\r\n          .catch( () => reject() ) ;\r\n        }) ;\r\n\r\n      });\r\n    }\r\n    ,removeAlbum: function(albumID) {\r\n\r\n      return new Promise( (resolve,reject) => {\r\n\r\n        if( !albumID ) reject({\r\n          status: 401\r\n          ,id: albumID\r\n        });\r\n        \r\n        const refAlbum = this.albums.doc( albumID ) ;\r\n\r\n        if( !refAlbum || !(refAlbum.get instanceof Function) )\r\n          reject( {\r\n            refAlbum: refAlbum\r\n            ,id: albumID\r\n            ,status: 404\r\n          } );\r\n\r\n        refAlbum.get().then( () => {\r\n            refAlbum.delete()\r\n              .then( () => {\r\n\r\n                this.getPictureOf( albumID ).then( pics => {\r\n\r\n                  pics.map( pic => (\r\n                      this.removePicture( pic.id )\r\n                 ) ) ;\r\n\r\n                  resolve({success: true});\r\n                }  ).catch( err => reject( err ) )\r\n\r\n              } )\r\n              .catch( err => reject( err ) )\r\n            ;\r\n          } ).catch( err => reject( err ) )\r\n      } )\r\n    }\r\n  }\r\n;\r\n\r\nexport default collections;\r\n","export default {\r\n    apiKey: \"AIzaSyBTZQaxY4tK4wD1CFIAdZYoBNIFNXjpHZI\",\r\n    authDomain: \"picsy-827e5.firebaseapp.com\",\r\n    databaseURL: \"https://picsy-827e5.firebaseio.com\",\r\n    projectId: \"picsy-827e5\",\r\n    storageBucket: \"picsy-827e5.appspot.com\",\r\n    messagingSenderId: \"228973782937\",\r\n    appId: \"1:228973782937:web:8c6a64e32d37e3c8c7d508\"\r\n};","import React from 'react';\r\nimport './Loader.css';\r\nimport LoaderTime from './loader-timer.svg';\r\nimport LoaderEarth from './loader-earth.svg';\r\nimport LoaderBtn from './loader-button.svg';\r\nimport LoaderAzure from './loader-azure.svg';\r\n\r\nfunction assoceType( type ) {\r\n\r\n    const assoc = {\r\n        'timer': LoaderTime\r\n        ,'btn': LoaderBtn\r\n        ,'button': LoaderBtn\r\n        ,'earth': LoaderEarth\r\n        ,'azure': LoaderAzure\r\n        ,'az': LoaderAzure\r\n    } ;\r\n\r\n    return assoc[ type ] || LoaderTime ;\r\n}\r\n\r\nfunction Loader({\r\n    className\r\n    ,width\r\n    ,full\r\n    ,type\r\n    ,bg\r\n}){\r\n\r\n    return (\r\n        <figure\r\n            className={`Loader ${className} ${full ? 'full' :''}`}\r\n            style={{\r\n                backgroundColor: bg || 'transparent'\r\n            }}\r\n        >\r\n            <img\r\n                alt={`loader ${type}`}\r\n                src={assoceType( type )}\r\n                width={width}\r\n            />\r\n        </figure>\r\n    ) ;\r\n\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\n\r\nfunction InputFile({\r\n    className\r\n    ,label\r\n    ,name\r\n    ,id\r\n    ,onChange\r\n    ,autoRead\r\n    ,notif\r\n}){\r\n    return (\r\n        <>\r\n            {label && (\r\n                <label htmlFor={id || name}>\r\n                    {label}\r\n                </label>\r\n            ) }\r\n            <input\r\n                className={className}\r\n                type=\"file\"\r\n                name={name}\r\n                id={id || name}\r\n                onChange={e => {\r\n\r\n                    if( !(onChange instanceof Function) ) return;\r\n\r\n                    const file = e.target.files[0] ;\r\n                    \r\n                    if( autoRead ) {\r\n\r\n                        let blob = null;\r\n\r\n                        const reader = new FileReader();\r\n                        const evt = e;\r\n\r\n                        reader.addEventListener('load' , e => {\r\n\r\n                            blob = e.target.result;\r\n                            onChange( file , blob , evt ) ;\r\n                        } ) ;\r\n\r\n                        reader.readAsDataURL( file );\r\n                    } else {\r\n\r\n                        onChange( file , e ) ;\r\n                    }\r\n                }}\r\n            />\r\n            {notif}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default InputFile;","import React, {useState} from 'react';\r\nimport './Notif.css';\r\n\r\nfunction assoceIconType( type ) {\r\n\r\n    const assoc = {\r\n        'warn': 'fas fa-exclamation-triangle'\r\n        ,'warning': 'fas fa-exclamation-triangle'\r\n        ,'error':'fas fa-bomb'\r\n        ,'infos': 'fas fa-info-circle'\r\n        ,'success': 'fas fa-check-circle'\r\n        ,'bug': 'fas fa-bug'\r\n        , 'mask': 'fas fa-mask'\r\n        , 'back': 'fas fa-hand-point-left'\r\n    } ;\r\n\r\n    return assoc[ type ] || assoc['mask'] ;\r\n}\r\n\r\nfunction Notif( {\r\n    type\r\n    ,className\r\n    ,onClose\r\n    ,text\r\n} ) {\r\n\r\n    const [refNotif] = useState( React.createRef() );\r\n\r\n    return (\r\n        <section\r\n            ref={refNotif}\r\n            className={`Notif ${className} ${type}`}\r\n        >\r\n            <p>\r\n                <i className={assoceIconType(type)}></i>\r\n\r\n                <span>\r\n                    {text}\r\n                </span>\r\n            </p>\r\n\r\n            {\r\n                onClose instanceof Function && (\r\n                    <aside>\r\n                        <button\r\n                            onClick={() => onClose( {\r\n                                ref: refNotif\r\n                                ,notif: refNotif.current\r\n                                ,remove() {\r\n                                    refNotif.current.parentNode.removeChild( \r\n                                        refNotif.current\r\n                                    );\r\n                                }\r\n                            })}\r\n                        >\r\n                            <i className=\"fas fa-times\"></i>\r\n                        </button>\r\n                    </aside>\r\n                )\r\n            }\r\n            \r\n\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Notif;","import React from 'react';\r\nimport './SignIn.css';\r\n\r\nfunction SignIn() {\r\n    return (\r\n        <p className=\"sign-in\">\r\n            Application front UI/UX développer <span>avec le CRA de Reactjs&nbsp;</span>\r\n            par\r\n            &nbsp;<a href=\"https://github.com/Orivoir/picsy\">\r\n                    <i className=\"fab fa-github\"></i>\r\n                    &nbsp;Samuel Gaborieau\r\n            </a>\r\n        </p>\r\n    ) ;\r\n}\r\n\r\nexport default SignIn;","import React from 'react';\r\nimport Loader from './../../core/Loader/Loader';\r\nimport {Redirect} from 'react-router-dom';\r\nimport docCookies from 'doc-cookies';\r\nimport InputFile from './../../core/InputFile/InputFile';\r\nimport Notif from './../../core/Notif/Notif';\r\nimport SignIn from './../../core/SignIn/SignIn';\r\nimport './Logged.css' ;\r\n\r\nexport default class Logged extends React.Component {\r\n\r\n    state = {\r\n        loader: <Loader full type=\"az\" width={256} bg=\"rgba(0,0,0,.93)\" />\r\n        ,u: false\r\n        ,redirect: false\r\n        ,pseudo: \"\"\r\n        ,avatar: Logged.defaultAvatar\r\n        ,errors: []\r\n        ,loaderButton: false\r\n        ,fileName: \"\"\r\n    } ;\r\n\r\n    static defaultAvatar = 'https://image.flaticon.com/icons/png/128/149/149071.png';\r\n\r\n    constructor( props ) {\r\n\r\n        super( props );\r\n\r\n        this.userID = localStorage.getItem('userID') || docCookies.getItem('userID');\r\n\r\n        this.avatarChange = this.avatarChange.bind( this ); \r\n        this.onSubmit = this.onSubmit.bind( this );\r\n    }\r\n\r\n    /**\r\n     * @bind [constructor]\r\n     * @param {SyntheticEvent} e \r\n     */\r\n    onSubmit( e ) {\r\n\r\n        e.preventDefault();\r\n\r\n        const {pseudo} = this.state;\r\n\r\n        if(\r\n            !(pseudo.length >= 2 &&\r\n            pseudo.length <=40)\r\n        ) {\r\n            this.setState(state => ( {\r\n                errors: [ ...state.errors, <Notif\r\n                    key={Date.now()} \r\n                    text=\"pseudo taille invalide\"\r\n                    type=\"error\"\r\n                    onClose={ ({remove}) => remove()}\r\n                /> ]\r\n            }) ) ;\r\n        } else{\r\n\r\n            const {avatar} = this.state;\r\n\r\n            this.setState( {\r\n                loaderButton: <Loader width={16} type=\"btn\" />                \r\n            } , () => {\r\n\r\n                this.props.db.users.add( {\r\n                    pseudo: pseudo\r\n                    ,avatar: avatar\r\n                } ).then( data => {\r\n\r\n                    const userID = data.id ;\r\n\r\n                    localStorage.setItem('userID' , userID);\r\n                    docCookies.setItem('userID' , userID );\r\n\r\n                    this.setState( {\r\n                        redirect: <Redirect to=\"/dash\" />\r\n                    } ) ;\r\n                } )\r\n            } ) ;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * @bind [constructor]\r\n     * @param {File} file \r\n     * @param {string} blob \r\n     * @param {SyntheticEvent} e \r\n     */\r\n    avatarChange( file, blob , e ) {\r\n\r\n        if( file.size <= 1e6 && /image/.test(file.type) ) {\r\n            this.setState( {\r\n                avatar: blob\r\n                ,fileName: file.name\r\n            } ) ;\r\n            \r\n        } else {\r\n            \r\n            const mssg = file.size >= 1e6 ? \"fichier trop volumineux\":\"ce fichier n'est pas une image .\";\r\n            \r\n            this.setState( state => ( {\r\n                errors: [ ...state.errors , <Notif\r\n                    key={Date.now()} \r\n                    text={mssg}\r\n                    type=\"error\"\r\n                    onClose={ ({remove}) => remove()}\r\n                /> ]\r\n            }) )\r\n        }\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if( !this.userID ) {\r\n\r\n            this.setState( {\r\n                loader: false \r\n            } ) ;\r\n        } else {\r\n\r\n            \r\n            this.props.db.getUser(this.userID)\r\n            .then( user => {\r\n\r\n                if( user ) {\r\n                    this.setState( {\r\n                        redirect: <Redirect to=\"/dash\" />\r\n                    } ) ;\r\n                    \r\n                } else {\r\n                    this.setState( {\r\n                        loader: false\r\n                    } ) ;\r\n                }\r\n            } ) ;\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            loader\r\n            ,redirect\r\n            ,avatar\r\n            ,errors\r\n            ,loaderButton\r\n            ,fileName\r\n        } = this.state;\r\n\r\n        return(\r\n            <section\r\n                className=\"Logged\"\r\n            >\r\n                {loader}\r\n                {redirect}\r\n\r\n                <form\r\n                    onSubmit={this.onSubmit}\r\n                >\r\n                    <section>\r\n                        <div className=\"field-wrap-pseudo\">\r\n                            <input\r\n                                placeholder=\"pseudo\"\r\n                                type=\"text\" \r\n                                name=\"pseudo\"\r\n                                autoComplete=\"off\" \r\n                                onChange={e => (\r\n                                    this.setState({pseudo:e.target.value.trim()})\r\n                                )}\r\n                                value={this.state.pseudo}\r\n                            />\r\n                            <label htmlFor=\"pseudo\" className={`o-hide ${this.state.pseudo.trim().length ? 'active':''}`}>pseudo</label>\r\n                        </div>\r\n                        \r\n                        <div>\r\n                            <InputFile\r\n                                className=\"hide\"\r\n                                label={\r\n                                    <>\r\n                                        <span className=\"hide micro-system\">\r\n                                            {\r\n                                                fileName ?\r\n                                                    fileName.length > 7 ?\r\n                                                    fileName.slice( 0 , 7 ) + ' ...' :\r\n                                                    fileName :\r\n                                                    'avatar'\r\n                                            }\r\n                                        </span>\r\n                                        <figure>\r\n                                            <button \r\n                                                type=\"button\"\r\n                                                onClick={e => {\r\n                                                    e.target.parentNode.click();\r\n                                                }}\r\n                                            >\r\n                                                <img\r\n                                                    src={avatar}\r\n                                                    alt=\"avatar\"\r\n                                                    width={64}\r\n                                                />\r\n                                            </button>\r\n                                            <figcaption>\r\n                                                changer\r\n                                            </figcaption>\r\n                                        </figure>\r\n                                    </>\r\n                                }\r\n                                name=\"avatar\"\r\n                                autoRead\r\n                                onChange={(file,blob,e) => (\r\n                                    this.avatarChange(file,blob,e)\r\n                                ) }\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\">\r\n                            {loaderButton || 'suivant'}\r\n                        </button>\r\n                    </section>\r\n\r\n                    \r\n                    <SignIn />\r\n\r\n                    {errors.map( error => (\r\n                            error\r\n                    ) )}\r\n\r\n                </form>\r\n\r\n                <section className=\"banner-sm-screen hide\">\r\n\r\n                        <p>\r\n                            Picsy et Lorem dolore veniam culpa velit sint ,\r\n                            Anim cupidatat mollit consequat et ipsum ipsum eu ullamco eu ullamco elit non.\r\n                        </p>\r\n\r\n                        <button type=\"button\">\r\n                            get started\r\n                        </button>\r\n                </section>\r\n\r\n            </section>\r\n        );\r\n    }\r\n};\r\n","import React from 'react';\r\nimport './User.css';\r\nimport {HashLink as Link} from 'react-router-hash-link';\r\nimport ReactToolTip from 'react-tooltip' ;\r\nimport SignIn from './../SignIn/SignIn';\r\n\r\nconst defaultAvatar = \"\";\r\n\r\nfunction User({u,load}) {\r\n\r\n    return (\r\n        <>\r\n            <section className=\"User\">\r\n                {load || (\r\n                    <>\r\n                        <h1>\r\n                            <strong>Picsy</strong> application\r\n                            version 0.1.0-beta\r\n                        </h1>\r\n                        <div className=\"content-user\">\r\n                            <figure>\r\n                            <img\r\n                                src={u.get('avatar') || defaultAvatar}\r\n                                alt=\"avatar\"\r\n                                width=\"125\"\r\n                            />\r\n                            <figcaption>\r\n                                {u.get('pseudo')}\r\n                            </figcaption>\r\n                        </figure>\r\n                            \r\n                            <ReactToolTip \r\n                                id=\"user\"\r\n                                type=\"info\"\r\n                                getContent={()=> (\r\n                                    <p style={{\r\n                                        fontSize: \"16px\"\r\n                                    }}>\r\n                                        <i className=\"fas fa-info-circle\"></i>\r\n                                        &nbsp;ajouté un compte\r\n                                    </p>\r\n                                )} \r\n                                effect=\"solid\"\r\n                                place=\"bottom\"\r\n                            />\r\n                            \r\n                            <p data-for=\"user\" data-tip=\"<em>ajouté</em> un compte\">\r\n                                <Link to=\"/add-account\">\r\n                                    <i className=\"fas fa-user-plus\"></i>\r\n                                </Link>\r\n                            </p>\r\n                        </div>\r\n                        <SignIn />\r\n                    </>\r\n                )}\r\n            </section>\r\n        </>\r\n    ) ;\r\n}\r\n\r\nexport default User;","import React,{useEffect} from 'react';\r\nimport './Confirm.css'\r\n\r\nconst \r\n    confirmRef = React.createRef()\r\n    ,btnsRef = {\r\n        confirm: React.createRef()\r\n        ,cacel: React.createRef()\r\n    }\r\n    , dataBack = {\r\n        ref: confirmRef,\r\n        confirm: confirmRef.current\r\n    }\r\n;\r\n\r\nfunction Confirm({\r\n    onConfirm,\r\n    onCancel,\r\n    onFinally,\r\n    textConfirm,\r\n    textCancel,\r\n    textGlobal,\r\n    text,\r\n    className,\r\n    autoFocus,\r\n    autoFocusCancel,\r\n    autoFocusConfirm,\r\n    icons,\r\n    title\r\n}) {\r\n\r\n    useEffect( () => {\r\n        if(autoFocusCancel) {\r\n            btnsRef.cancel.current.focus() ;\r\n        } else if( autoFocusConfirm || autoFocus ) {   \r\n            btnsRef.confirm.current.focus() ;\r\n        }\r\n    } )\r\n\r\n    return (\r\n        <section\r\n            className={`Confirm ${className}`}\r\n            ref={confirmRef}\r\n        >\r\n            {( title && <h2>{title}</h2> )}\r\n\r\n            <p>\r\n                {textGlobal || text}\r\n            </p>\r\n\r\n            <aside>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"confirm\"\r\n                    onClick={() => {\r\n                        const\r\n                            conf = onConfirm instanceof Function ? onConfirm: () => {},\r\n                            fin = onFinally instanceof Function ? onFinally: () => {}\r\n                        ;\r\n\r\n                        conf( dataBack );\r\n                        fin( dataBack );\r\n                    }}\r\n                    ref={btnsRef.confirm}\r\n                >\r\n                    {icons && (\r\n                        <i className=\"fas fa-check\"></i>\r\n                    )}\r\n                    <span>\r\n                        {textConfirm}\r\n                    </span>\r\n                </button>\r\n                \r\n                <button\r\n                    className=\"cancel\"\r\n                    ref={btnsRef.cancel}\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n\r\n                        const\r\n                            cancel = onCancel instanceof Function ? onCancel: () => {},\r\n                            fin = onFinally instanceof Function ? onFinally: () => {}\r\n                        ;\r\n                        cancel( dataBack );\r\n                        fin( dataBack );\r\n                    }}\r\n                >\r\n                    {icons && (\r\n                        <i className=\"fas fa-times\"></i>\r\n                    )}\r\n                    <span>\r\n                        {textCancel}\r\n                    </span>\r\n                </button>\r\n            </aside>\r\n\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nexport default Confirm;\r\n","import React,{useState,useEffect} from 'react';\r\nimport Confirm from './../Confirm/Confirm';\r\nimport './ControlItem.css';\r\n\r\nfunction ControlItem({\r\n    manualOpen,\r\n    open,\r\n    onClose,\r\n    onRemove,\r\n    onRname,\r\n    loadRname,\r\n    pic,\r\n    errorsRname,\r\n    onOpen,\r\n    itemType,\r\n    closer\r\n}) {\r\n\r\n    const [confirm,setConfirm] = useState(false);\r\n    const [inputRname,setInputRname] = useState(false);\r\n    const [rname,setRname] = useState(\"\");\r\n    const [firstControl] = useState( React.createRef() );\r\n    const [rnameRef] = useState( React.createRef() );\r\n\r\n    useEffect( () => {\r\n\r\n        if( open && !confirm )\r\n            setTimeout(() => {\r\n                if( firstControl.current )\r\n                firstControl.current.focus()\r\n            } , 250);\r\n\r\n    } ) ;\r\n\r\n    return (\r\n        <ul\r\n            className={`ControlItem`}\r\n            onMouseEnter={() => onOpen()}\r\n            onMouseLeave={() => {\r\n                if( !manualOpen ) {\r\n                    onClose()\r\n                }\r\n            }}\r\n        >\r\n            <li\r\n                className={`${open && !confirm ? \"\":\"hide\"}`}\r\n            >\r\n                <button\r\n                    onContextMenu={e => e.preventDefault()}\r\n                    ref={firstControl}\r\n                    className={`${inputRname ? 'hide':''}`}\r\n                    onClick={() => {\r\n                        setInputRname(true);\r\n                        setTimeout(() => \r\n                            rnameRef.current.focus(), 120\r\n                        );\r\n                    }}\r\n                >\r\n                    <i className=\"fas fa-pen\"></i>\r\n                </button>\r\n\r\n                \r\n                <form\r\n                        className={`${inputRname ? '':'close'}`}\r\n                        onSubmit={e => {\r\n                            e.preventDefault();\r\n                            onRname( rname );\r\n                        }}\r\n                    >\r\n\r\n                        <input\r\n                            ref={rnameRef}\r\n                            className={`input-rname rname ${!inputRname ? 'hide':'open'}`}\r\n                            type=\"text\"\r\n                            name=\"rname\"\r\n                            onChange={e => setRname( e.target.value )}\r\n                            autoComplete=\"off\"\r\n                            placeholder={pic.get('name')}\r\n                            disabled={!!loadRname}\r\n                        />\r\n \r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setInputRname(false)}\r\n                            className={`rname-btn ${inputRname ? '':'hide'}`}\r\n                        >\r\n                            {\r\n                                loadRname ||\r\n                                <i className=\"fas fa-times\"></i>\r\n                            }\r\n                        </button>\r\n\r\n                        {\r\n                            errorsRname.map( error => (\r\n                                error\r\n                            )  )\r\n                        }\r\n\r\n                </form>\r\n            </li>\r\n\r\n            <li\r\n                className={`${open && !inputRname ? \"\":\"hide\"}`}\r\n            >\r\n                {\r\n\r\n                    confirm || (\r\n                        <button\r\n                            onClick={() =>\r\n                                setConfirm(\r\n                                    <Confirm\r\n                                        onConfirm={() => {\r\n                                            onRemove();\r\n                                        }}\r\n                                        onFinally={() => setConfirm( false )}\r\n                                        text={`êtes vous sur de vouloir supprimez l'${itemType} ${pic.get('name')}`}\r\n                                        textConfirm=\"oui\"\r\n                                        textCancel=\"non\"\r\n                                        className=\"confirm-remove confirm-remove-picture\"\r\n                                        // title=\"Suppréssion\"\r\n                                        icons\r\n                                        autoFocus\r\n                                />\r\n                            )}\r\n                        >\r\n                            <i className=\"fas fa-trash\"></i>\r\n                        </button>       \r\n                    )\r\n                }\r\n            </li>\r\n\r\n            <li\r\n                className={`${open && !inputRname && closer && !confirm ? \"\":\"hide\"}`}\r\n            >\r\n                <button\r\n                    onClick={() => onClose instanceof Function ? onClose(): null}\r\n                >\r\n                    <i className=\"fas fa-times\"></i>\r\n                </button>\r\n            </li>\r\n        </ul>\r\n    ) ;\r\n}\r\n\r\nexport default ControlItem;","import React,{useState} from 'react';\r\nimport {HashLink as Link} from 'react-router-hash-link';\r\nimport ControlItem from './../ControlItem/ControlItem';\r\nimport Loader from './../Loader/Loader';\r\nimport Notif from './../Notif/Notif';\r\nimport {Redirect} from 'react-router-dom';\r\nimport './ItemAlbum.css';\r\n\r\nconst\r\n    btnLinkRef = React.createRef()\r\n;\r\n\r\nfunction ItemAlbum({\r\n    item,\r\n    db\r\n}) {\r\n\r\n\r\n    const [control,setControl] = useState( false );\r\n    const [loadRname,setLoadRname] = useState( false );\r\n    const [visible,setVisible] = useState( true );\r\n    const [name,setName] = useState( item.get('name') );\r\n    const [manualControl,setManualControl] = useState( false );\r\n    const [redirect,setRedirect] = useState( false );\r\n    const [errors,setErrors] = useState( [] );\r\n    const [refItem] = useState(React.createRef());\r\n\r\n    return (\r\n        <>\r\n            {redirect}\r\n            { visible && (\r\n                <li\r\n                onMouseEnter={() => setControl(true)}\r\n                onMouseLeave={() => setControl(false)}\r\n                className={`AlbumItem ${visible ? '':'hide'}`}\r\n                ref={refItem}\r\n            >\r\n                <div className=\"number-item\">\r\n                    {item.get('size')} images\r\n                </div>\r\n                <button\r\n                    className=\"album-btn\"\r\n                    ref={btnLinkRef}\r\n                    onKeyDown={e => {\r\n                        if( /menu/i.test(e.key) )\r\n                            setControl( true );\r\n                            setManualControl( true );\r\n                    } }\r\n                    onClick={() => setRedirect( <Redirect to={`album/${item.id}`} /> )}\r\n                    onContextMenu={e => e.preventDefault()}\r\n                >\r\n                    <Link\r\n                        onPointerUp={e => {\r\n                            if(e.nativeEvent.which === 3 ) {\r\n\r\n                                setControl(true);\r\n                                setManualControl( true );\r\n                            }\r\n                        }}\r\n                        to={`album/${item.id}`}\r\n                    >\r\n                        {name}\r\n                    </Link>\r\n                </button>\r\n\r\n                <section>\r\n\r\n                    <aside>      \r\n                        <ControlItem\r\n                            itemType=\"album\"\r\n                            onRemove={() => {\r\n                                db.removeAlbum( item.id ).then( () => {\r\n                                    setVisible( false );\r\n                                    setControl( false );\r\n                                } )\r\n                            }}\r\n                            manualOpen={manualControl}\r\n                            onOpen={() => setControl( true )}\r\n                            onRname={rname => {\r\n                                setLoadRname( <Loader \r\n                                    width={12}\r\n                                    type=\"azure\"\r\n                                /> ) ;\r\n\r\n                                db.rnameAlbum( \r\n                                    item.id\r\n                                    ,rname\r\n                                ).then( () => {\r\n                                \r\n                                    // success\r\n                                    setErrors(\r\n                                        [...errors , <Notif\r\n                                            onClose={({remove}) => remove()} \r\n                                            key={Date.now()}\r\n                                            text=\"l'album à été renomé avec succés\"\r\n                                            type=\"success\"\r\n                                        />]\r\n                                    ) ;\r\n                                    setName( rname );\r\n                                } );\r\n                            }}\r\n                            loadRname={loadRname}\r\n                            onClose={() => {/* silence is <feature /> */}}\r\n                            pic={item}\r\n                            open={control}\r\n                            errorsRname={errors}\r\n                        />\r\n                        \r\n                    </aside>\r\n                </section>\r\n            </li>\r\n            ) }\r\n        </>\r\n    ) ;\r\n}\r\n\r\nexport default ItemAlbum;","import React  from 'react';\r\nimport './ListAlbums.css';\r\nimport ItemAlbum from './ItemAlbum';\r\nimport Notif from '../Notif/Notif';\r\nimport './ListAlbums.css';\r\n\r\nfunction ListAlbums({albums,load,db}) {\r\n\r\n    return (\r\n        <ul className=\"ListAlbums list\">\r\n            {\r\n                load || (\r\n                    albums.length ?\r\n                    albums.map( item => (\r\n                        <ItemAlbum\r\n                            item={item}\r\n                            key={item.id}\r\n                            db={db}\r\n                        />\r\n                    )) : (\r\n                        <Notif \r\n                            type=\"infos\"\r\n                            text=\"vous n'avez aucun albums\"\r\n                        />\r\n                    )\r\n                    \r\n                )\r\n            }\r\n        </ul>\r\n    ) ;\r\n}\r\n\r\nexport default ListAlbums;","import React from 'react';\r\nimport Loader from './../../core/Loader/Loader';\r\nimport {Redirect} from 'react-router-dom';\r\nimport User from './../../core/User/User';\r\nimport ListAlbums from '../../core/ListAlbulms/ListAlbums';\r\nimport {HashLink as Link} from 'react-router-hash-link';\r\nimport './Dash.css';\r\n\r\nexport default class Dash extends React.Component {\r\n\r\n    state = {\r\n\r\n        loader: {\r\n            u: <Loader width={64} type=\"timer\" full bg=\"rgba(0,0,0,.9)\" /> ,\r\n            albums: <Loader width={64} type=\"timer\" full bg=\"rgba(0,0,0,.9)\" />\r\n        } ,\r\n        u: null,\r\n        albums: [],\r\n        redirect: false\r\n    } ;\r\n\r\n    constructor( props ) {\r\n\r\n        super( props ) ;\r\n        this.userID = localStorage.getItem('userID');\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if( !this.userID ) {\r\n            this.setState( {\r\n                loader: {u: false, albums: false},\r\n                redirect: <Redirect to=\"/\" /> \r\n            } ) ;\r\n        } else {\r\n            \r\n            this.props.db.getUser( this.userID )\r\n            .then( user => {\r\n\r\n                if( user ) {\r\n                    this.setState( state => ({\r\n                        loader: { u: false, albums: state.loader.albums }\r\n                        ,u: user \r\n                    } ) , () => {\r\n\r\n                        this.props.db.getAlbumsOf( user.id ).then( docs => {\r\n\r\n                            this.setState( state => ({\r\n                                loader : { u: state.loader.u, albums: false  },\r\n                                albums: docs\r\n                            }))\r\n                        } )\r\n\r\n                    }  ) ;\r\n                    \r\n                } else {\r\n                    this.setState( {\r\n                        loader: {u: false, albums: false},\r\n                        redirect: <Redirect to=\"/\" />\r\n                    } ) ;\r\n                }\r\n            } ) ;\r\n            \r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            loader,\r\n            redirect,\r\n            albums,\r\n            u\r\n        } = this.state ;\r\n\r\n        return(\r\n            <section\r\n                className=\"Dash\"\r\n            >\r\n                {redirect}\r\n\r\n                <User \r\n                    u={u}\r\n                    load={loader.u} \r\n                />\r\n\r\n                 \r\n                <ListAlbums\r\n                    db={this.props.db}\r\n                    albums={albums} \r\n                    load={loader.albums}\r\n                />\r\n\r\n                <aside className=\"add-album\">\r\n                    <p>\r\n                        <Link\r\n                            to=\"/add-album\"\r\n                        >\r\n                            <i className=\"fas fa-folder-plus\"></i>\r\n                        </Link>\r\n                    </p>\r\n                </aside>\r\n\r\n            </section>\r\n        )\r\n    }\r\n};\r\n","import React,{useState,useEffect} from 'react';\r\nimport InputFile from './../InputFile/InputFile';\r\nimport Notif from './../Notif/Notif';\r\nimport './FormAdd.css';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nfunction FormAdd({type,onSubmit,load,className,voidForm}){\r\n\r\n    const [picture,setPicture] = useState(\"https://image0.flaticon.com/icons/png/128/189/189334.png\");\r\n    const [errors,setErrors] = useState([]);\r\n    const [name,setName] = useState(\"\");\r\n    const [refName] = useState( React.createRef() );\r\n\r\n    useEffect( () => {\r\n\r\n        if( voidForm ) {\r\n            refName.current.value = \"\";\r\n        }\r\n\r\n    } ) ;\r\n\r\n    return (\r\n        <>\r\n            <form\r\n            className={`FormAdd ${className}`}\r\n            onSubmit={e => {\r\n                e.preventDefault();\r\n\r\n                const data = {\r\n                    name: name\r\n                    ,picture: picture\r\n                    ,e: e\r\n                } ;\r\n\r\n                if( /album/i.test(type) )\r\n                    delete data.picture;\r\n\r\n                onSubmit( data );\r\n            }}\r\n        >\r\n\r\n            <div className=\"field-wrap-pseudo\">\r\n                <input\r\n                    ref={refName}\r\n                    type=\"text\"\r\n                    placeholder={`nom de l'${!/album/i.test(type) ? 'image':'album' }`}\r\n                    autoComplete=\"off\"\r\n                    onChange={({target}) => setName( target.value ) }\r\n                />\r\n                <label \r\n                    htmlFor=\"name\"\r\n                    className={`${!!name.length ? 'active':'o-hide'}`}\r\n                >\r\n                    nom d'{!/album/i.test(type) ? 'image':'album' }\r\n                </label>\r\n            </div>\r\n\r\n            {\r\n                !/album/i.test(type) ?\r\n                <InputFile\r\n                    className=\"hide\"\r\n                    name=\"picture\"\r\n                    label={\r\n                        <>\r\n                        <ReactTooltip\r\n                                id=\"add-picture\"\r\n                                type=\"info\"\r\n                                getContent={()=> (\r\n                                    <p style={{\r\n                                        fontSize: \"16px\"\r\n                                        ,margin: 0\r\n                                    }}>\r\n                                        <i className=\"fas fa-info-circle\"></i>\r\n                                        &nbsp;ajouté une image\r\n                                    </p>\r\n                                )}    \r\n                                effect=\"solid\"\r\n                                place=\"top\"\r\n                            />\r\n                            <figure\r\n                                data-tip=\"ajouté une image\"\r\n                                data-for=\"add-picture\"\r\n                            >\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={e =>  e.target.parentNode.click()}\r\n                                >\r\n                                    <img\r\n                                        src={picture}\r\n                                        alt=\"ajouté\"\r\n                                        width={64}\r\n                                    />\r\n                                </button>\r\n                            </figure>\r\n                        </>\r\n                    }\r\n                    autoRead\r\n                    onChange={(file,blob,e) => {\r\n                        if(\r\n                            file.size <= 1e6 &&\r\n                            /image/i.test(file.type)\r\n                        ) {\r\n                            setPicture( blob );\r\n                        } else {\r\n\r\n                            const mssg = file.size > 1e6 ? \r\n                                \"fichier trop volumineux\":\r\n                                \"ce fichier n'est pas une image valide\"\r\n                            ;\r\n                            \r\n                            setErrors( [...errors , \r\n                                <Notif\r\n                                    key={Date.now()} \r\n                                    type=\"error\"\r\n                                    text={mssg}\r\n                                    onClose={({remove}) => remove()}\r\n                                />\r\n                            ] ) ;\r\n                        }\r\n                    }}\r\n                />\r\n                : null\r\n            }\r\n\r\n            <button\r\n                type='submit'\r\n                disabled={!!load}\r\n            >\r\n                {\r\n                    load || (\r\n                        <span>\r\n                            ajouté l'{!/album/i.test(type) ? 'image' : 'album'}\r\n                        </span>\r\n                    )\r\n                }\r\n                \r\n            </button>\r\n\r\n        </form>\r\n        {errors.map( error => error )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default FormAdd;","import React from 'react';\r\nimport './ImgFilter.css';\r\n\r\nconst buildFilter = filters => {\r\n\r\n    if( !(filters instanceof Array) ) return '';\r\n\r\n    let styles = '';\r\n\r\n    filters.forEach( filter => {\r\n\r\n        try {\r\n\r\n            let f = null;\r\n\r\n            if( typeof filter === 'string' ) {\r\n\r\n                f = JSON.parse( filter ) ;\r\n            } else {\r\n                f = filter;\r\n            }\r\n\r\n            if( !(f.key && f.val) ) return;\r\n            \r\n            if( /%/.test(f.val) && /hue/.test(f.key) ) {\r\n                f.val = f.val.replace('%' , 'deg' );\r\n            }\r\n\r\n            if( \r\n\r\n                f.key === 'hueRotate'\r\n                ) {\r\n                 f.key = 'hue-rotate';\r\n                 \r\n             }\r\n\r\n            styles += `${f.key}(${f.val}) `;\r\n            \r\n        } catch( SyntaxError ) {/* Silence is <feature /> */}\r\n        \r\n    } ) ;\r\n\r\n    console.log( styles );\r\n\r\n    return styles;\r\n} ;\r\n\r\nfunction ImgFilter( {\r\n    pics,\r\n    load,\r\n    figcaption,\r\n    width,\r\n    classFig\r\n} ) {\r\n\r\n    return (\r\n        <figure\r\n            className=\"ImgFilter\"\r\n        >\r\n            {load || (\r\n                <>\r\n                \r\n                    {figcaption && (\r\n                        <figcaption className={classFig}>\r\n                            {figcaption}\r\n                        </figcaption>\r\n                    )}\r\n                    <img\r\n                        src={pics.get('blob')}\r\n                        alt={pics.get('name')}\r\n                        style={{\r\n                            filter: buildFilter( pics.get('filters') )\r\n                        }}\r\n                        width={width || 300}\r\n                    />\r\n                </>\r\n            )}\r\n        </figure>\r\n    )\r\n}\r\n\r\nexport default ImgFilter;\r\n","import React,{useState} from 'react';\r\nimport ImgFilter from './../ImgFilter/ImgFilter';\r\nimport {HashLink as Link} from 'react-router-hash-link';\r\nimport ControlItem from './../ControlItem/ControlItem';\r\nimport Loader from './../Loader/Loader';\r\nimport Notif from './../Notif/Notif';\r\nimport './ItemImg.css';\r\n\r\nfunction ItemImg({item,db,even}) {\r\n\r\n    const [control,setControl] = useState( false );\r\n    const [visible,setVisible] = useState( true );\r\n    const [loadRname,setLoadRname] = useState( false );\r\n    const [errors,setErrors] = useState( [] );\r\n    const [btnNav] = useState( React.createRef() );\r\n    const [manualControl,setManualControl] = useState( false );\r\n\r\n    return (\r\n        <>\r\n            { visible && (\r\n                <li\r\n                onMouseEnter={() => btnNav.current.classList.remove('hide')}\r\n                onMouseLeave={() => btnNav.current.classList.add('hide')}\r\n                className={`ItemImg ${visible ? '':'hide'} ${even ? 'even':''}`}\r\n            >\r\n                <Link\r\n                    className=\"link-filter\"\r\n                    to={`/filter/${item.id}`}\r\n                    onContextMenu={e => e.preventDefault()}\r\n                    onPointerDown={e => {\r\n                        if( e.nativeEvent.which === 3 ) {\r\n                            setControl( !control );\r\n                        }\r\n                    }}\r\n                    onKeyDown={e => {\r\n                        if( /menu/i.test(e.key) ) {\r\n\r\n                            setControl( !control );\r\n                        }\r\n                    }}\r\n                >\r\n                    <ImgFilter\r\n                        pics={item}\r\n                        figcaption={\r\n                            <div\r\n                                className=\"status-control\"\r\n                            >\r\n                                <button\r\n                                    ref={btnNav}\r\n                                    className=\"hide\"\r\n\r\n                                    onClick={e => {\r\n                                        e.preventDefault();\r\n                                        \r\n                                        setManualControl( !control );\r\n                                        setControl(!control);\r\n                                    }}\r\n                                >\r\n                                    <i class={!control ? \"fas fa-ellipsis-v\":\"fas fa-times\"}></i>\r\n                                </button>\r\n                            </div>\r\n                        }\r\n                        classFig=\"fig-picsy\"\r\n                    />\r\n                </Link>\r\n\r\n                <ControlItem\r\n                    closer\r\n                    itemType=\"image\"\r\n                    onRemove={() => {\r\n                        db.removePicture( item.id ).then( () => {\r\n                            setVisible( false );   \r\n                            setControl( false );\r\n                        } )\r\n                    }}\r\n                    manualOpen={manualControl}\r\n                    onOpen={() => setControl( true )}\r\n                    onRname={rname => {\r\n                        setLoadRname( <Loader \r\n                            width={12}\r\n                            type=\"azure\"\r\n                        /> ) ;\r\n\r\n                        db.rnameImg(\r\n                            item.id,\r\n                            rname,\r\n                            item.get('album_id')\r\n                        ).then( resp => {\r\n\r\n                            setLoadRname( false );\r\n\r\n                            if( resp.success ) {\r\n\r\n                                // success\r\n                                setErrors(\r\n                                    [...errors , <Notif\r\n                                        onClose={({remove}) => remove()} \r\n                                        key={Date.now()}\r\n                                        text=\"image à été renomé avec succés\"\r\n                                        type=\"success\"        \r\n                                    />]\r\n                                ) ;\r\n\r\n                            } else {\r\n\r\n                                if( resp.status === 401  ) {\r\n                                    // Bad Request\r\n                                    // this name already exists\r\n                                    // in this album\r\n                                    setErrors( [...errors ,<Notif\r\n                                        key={Date.now()} \r\n                                        type=\"error\"\r\n                                        onClose={({remove}) => remove()}\r\n                                        text={`l'image ${rname} exists déjà dans cet album`}\r\n                                    />] ) ;\r\n\r\n                                } else { // 404\r\n                                    // here file not exists\r\n                                    console.warn('file rname 404 with : ' , item.id , item.get('name') );\r\n                                }\r\n\r\n                            }\r\n\r\n                        } ) ;\r\n                    }}\r\n                    loadRname={loadRname}\r\n                    onClose={() => {\r\n                        setControl(false)\r\n                    }}\r\n                    pic={item}\r\n                    open={control}\r\n                    errorsRname={errors}\r\n                />\r\n            </li>\r\n            )\r\n            }\r\n        </>\r\n    ) ;\r\n}\r\n\r\nexport default ItemImg;","import React from 'react';\r\nimport ItemImg from './../ItemImg/ItemImg';\r\nimport './ListImg.css';\r\n\r\nfunction ListImg( {\r\n    items,\r\n    load,\r\n    db\r\n} ) {\r\n\r\n    return (\r\n        <ul\r\n            className=\"ListImg\"\r\n        >\r\n            {\r\n                load || (\r\n                    items.map( (item,key) => (\r\n                        <ItemImg\r\n                            key={item.id}\r\n                            item={item}\r\n                            db={db}\r\n                            even={!!(key%2)}\r\n                        />\r\n                    ) )\r\n                )\r\n            }\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ListImg;","import React,{useState} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport FormAdd from './../FormAdd/FormAdd';\r\nimport Loader from './../Loader/Loader';\r\nimport Notif from './../Notif/Notif';\r\nimport ListImg from './../ListImg/ListImg';\r\nimport './ShowAlbum.css';\r\n\r\nconst getPics = (db,id) => {\r\n\r\n    return new Promise( (resolve,reject) => {\r\n\r\n        db.getImgsOf( id )\r\n            .then( pics => {\r\n                resolve( pics );\r\n            } )\r\n            .catch( err => reject(err) )\r\n        ;\r\n    } ) ;\r\n}\r\n\r\nfunction ShowAlbum({db,loaderAlbum,album}) {\r\n    \r\n    const {id} = useParams();\r\n    const [loaderAddPicture,setLoaderAddPicture] = useState( false );\r\n    const [errors,setErrors] = useState([]);\r\n    const [voidForm,setVoidForm] = useState( false );\r\n    const [pictures,setPictures] = useState({\r\n        pics:false\r\n        ,loader:<Loader\r\n            width={64}\r\n            bg=\"rgba(0,0,0,.9)\"\r\n            type=\"timer\"\r\n        />\r\n    });\r\n\r\n    return (\r\n        <section className=\"ShowAlbum\">\r\n            {\r\n                !loaderAlbum && (\r\n                    <h2>\r\n                        {album.get('name')}\r\n                    </h2>\r\n                )\r\n            }\r\n            <ListImg\r\n                items={\r\n                    !pictures.pics ?\r\n                    getPics(db,id).then( pics => {\r\n                        setPictures( {\r\n                            pics:pics\r\n                            ,loader:false\r\n                        } )\r\n                    } ) : pictures.pics\r\n                }\r\n                load={pictures.loader}\r\n                db={db}\r\n            />\r\n\r\n            <FormAdd\r\n                type=\"picture\"\r\n                voidForm={voidForm}\r\n                onSubmit={({name,picture}) => {\r\n                    \r\n                    if(\r\n                        name.length <= 42 &&\r\n                        name.length >= 2 &&\r\n                        picture\r\n                    ) {\r\n                        setLoaderAddPicture( <Loader type=\"btn\" width={16} />);\r\n                        db.addPicture(id,name, picture)\r\n                        .then( ({success}) => {\r\n\r\n                            setLoaderAddPicture(false);\r\n\r\n                            if( success ) {\r\n\r\n                                // setErrors( [ <Notif\r\n                                //     key={Date.now()}\r\n                                //     text=\"fichier ajouté avec succés\"\r\n                                //     type=\"success\"\r\n                                //     onClose={({remove}) => remove()}\r\n                                // /> ] ) ;\r\n                                setVoidForm( true );\r\n                                setTimeout(() => {\r\n                                    setVoidForm( false );\r\n                                }, 100);\r\n                                setPictures({\r\n                                    pics:null,loader:<Loader\r\n                                    width={64}\r\n                                    bg=\"rgba(0,0,0,.9)\"\r\n                                    type=\"timer\"\r\n                                />})\r\n\r\n                            } else {\r\n                                setErrors( [ ...errors , <Notif\r\n                                    key={Date.now()}\r\n                                    text=\"nom déjà existant\"\r\n                                    type=\"error\"\r\n                                    onClose={({remove}) => remove()}\r\n                                /> ] ) ;\r\n                            }\r\n\r\n                        } ) ;\r\n                    }\r\n                    else {\r\n\r\n                        const mssg = picture ? \"taille de nom invalide\":\"vous n'avez pas envoyé de fichier\"\r\n\r\n                        setErrors( [ ...errors , <Notif\r\n                            key={Date.now()}\r\n                            text={mssg}\r\n                            type=\"error\"\r\n                            onClose={({remove}) => remove()}\r\n                        /> ] ) ;\r\n                    }\r\n                }}\r\n                load={loaderAddPicture}\r\n            />\r\n            {errors.map( error => error )}\r\n\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ShowAlbum;","import React from 'react';\r\nimport FormAdd from './../../core/FormAdd/FormAdd';\r\nimport {Redirect} from 'react-router-dom';\r\nimport docCookies from 'doc-cookies';\r\nimport Loader from './../../core/Loader/Loader';\r\nimport User from './../../core/User/User';\r\nimport Notif from './../../core/Notif/Notif';\r\nimport {HashLink as Link} from 'react-router-hash-link';\r\nimport ShowAlbum from '../../core/ShowAlbum/ShowAlbum';\r\n\r\nexport default class AlbumRoute extends React.Component {\r\n\r\n    state = {\r\n        loader: <Loader width={16} type=\"btn\" />\r\n        ,redirect: false\r\n        ,loadUser: <Loader full width={48} type=\"time\" bg=\"rgba(0,0,0,.9)\" />\r\n        ,loaderAlbum: <Loader full width={48} type=\"az\" bg=\"rgba(0,0,0,.9)\" />\r\n        ,album: null\r\n        ,errors: []\r\n    } ;\r\n\r\n    static add() {\r\n\r\n        return \"add\";\r\n    }\r\n\r\n    constructor(props) {\r\n\r\n        super( props );\r\n        this.userID = localStorage.getItem('userID') || docCookies.getItem('userID');\r\n\r\n        if( this.props.action !== AlbumRoute.add() ) {\r\n            \r\n            this.props.db.albums.doc( document.location.hash.split('/').pop() )\r\n            .get()\r\n            .then( album => {\r\n                this.setState( {\r\n                    album: album\r\n                    ,loaderAlbum: false\r\n                } ) ;\r\n            } ) ;\r\n        }\r\n\r\n        if( !this.userID ) {\r\n            this.setState( {\r\n                loader: false,\r\n                redirect: <Redirect to=\"/\" /> \r\n            } ) ;\r\n        } else {\r\n\r\n            this.props.db.getUser( this.userID )\r\n            .then( user => {\r\n\r\n                if( user ) {\r\n                    this.setState( {\r\n                        loader: false,\r\n                        user: user\r\n                        ,loadUser: false\r\n                    } );\r\n                } else {\r\n                    this.setState( {\r\n                        loader: false,\r\n                        redirect: <Redirect to=\"/\" /> \r\n                    } ) ;\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const \r\n            {action} = this.props\r\n            ,{\r\n                user,\r\n                loader,\r\n                loadUser,\r\n                errors,\r\n                formHide,\r\n                createWithName,\r\n                loaderAlbum,\r\n                album\r\n            } = this.state\r\n        ;\r\n\r\n        return(\r\n            <>\r\n                <User u={user} load={loadUser} />\r\n                {\r\n                    action === AlbumRoute.add() ? (\r\n                        <>\r\n                            <FormAdd\r\n                                load={loader}\r\n                                className={`${formHide ? 'hide':''}`}\r\n                                type=\"album\"\r\n                                onSubmit={({name}) => {\r\n\r\n                                    this.setState( {\r\n                                        loader: <Loader width={16} type=\"btn\" />\r\n                                    } )\r\n\r\n                                    if( name.length >= 2 && name.length <= 42 )\r\n\r\n                                        this.props.db.addAlbum( \r\n                                            name , user.id\r\n                                        ).then( data => {\r\n                                                 \r\n                                            if( data.success )\r\n                                                this.setState( {\r\n                                                    loader: false,\r\n                                                    formHide: true,\r\n                                                    errors: [],\r\n                                                    createWithName: name\r\n                                                } ) ;\r\n                                            else\r\n                                                this.setState( state => ({\r\n                                                    loader: false,\r\n                                                    errors: [...state.errors , (\r\n                                                        <Notif\r\n                                                            key={Date.now()}\r\n                                                            type=\"error\"\r\n                                                            onClose={({remove}) => remove()}\r\n                                                            text={`l'album ${name} existe déjà`}\r\n                                                        />\r\n                                                    )]\r\n                                                } )) ;\r\n                                        } ) ;\r\n                                    else\r\n                                        this.setState( state => ({\r\n                                            errors: [...state.errors , (\r\n                                                <Notif\r\n                                                    key={Date.now()}\r\n                                                    type=\"error\"\r\n                                                    text=\"taille de nom invalide\"\r\n                                                    onClose={({remove}) => remove()}\r\n                                                />\r\n                                            )] ,\r\n                                            loader: false\r\n                                        }));\r\n                                }}\r\n                            />\r\n                            {errors}\r\n                            {\r\n                                formHide && (\r\n                                    <Notif\r\n                                        type=\"success\"\r\n                                        text={<span>\r\n                                            l'album\r\n                                            &nbsp;<Link\r\n                                                to={`/`}\r\n                                            >\r\n                                            {createWithName}\r\n                                            </Link> à été créé avec succés\r\n                                        </span>}\r\n                                    />\r\n                                )\r\n                            }\r\n                            <Notif \r\n                                type=\"back\"\r\n                                text={<>\r\n                                    <Link to=\"/dash\">\r\n                                        Tableau de bord\r\n                                    </Link>\r\n                                </>}\r\n                            />\r\n                        </>\r\n                    )  : (\r\n                        // show album\r\n                        <>\r\n                            <ShowAlbum\r\n                                db={this.props.db}\r\n                                loaderAlbum={loaderAlbum}\r\n                                album={album}\r\n                            />\r\n                        </>\r\n                    )\r\n                    \r\n                }\r\n            </>\r\n        )\r\n    }\r\n};\r\n","import React from 'react';\r\n\r\nexport default class FormFilter extends React.Component {\r\n\r\n    render() {\r\n\r\n        const {\r\n            blurValue\r\n            ,onChange\r\n            ,load\r\n            ,contrastValue\r\n            ,grayscaleValue\r\n            ,hueRotate\r\n        } = this.props\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    load || (\r\n                        <form>\r\n                            <div>\r\n                                <label>flootage {blurValue || 0}%</label>\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"0\"\r\n                                    max=\"100\"\r\n                                    defaultValue={blurValue || 0}\r\n                                    onChange={e => {\r\n                                        e.preventDefault();\r\n                                        onChange( {\r\n                                            key: 'blur'\r\n                                            ,unity: 'px'\r\n                                            ,val: parseInt(e.target.value/2)\r\n                                        } );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label>contraste {(contrastValue || contrastValue === 0) ? contrastValue : 100}%</label>\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"0\"\r\n                                    max=\"1000\"\r\n                                    defaultValue={(contrastValue || contrastValue === 0) ? contrastValue : 100}\r\n                                    onChange={e => {\r\n                                        e.preventDefault();\r\n                                        onChange( {\r\n                                            key: 'contrast'\r\n                                            ,unity: '%'\r\n                                            ,val: parseInt(e.target.value/2)\r\n                                        } );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label>grisage {grayscaleValue || 0}%</label>\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"0\"\r\n                                    max=\"100\"\r\n                                    defaultValue={grayscaleValue || 0}\r\n                                    onChange={e => {\r\n                                        e.preventDefault();\r\n                                        onChange( {\r\n                                            key: 'grayscale'\r\n                                            ,unity: '%'\r\n                                            ,val: parseInt(e.target.value)\r\n                                        } );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div>\r\n                                <label>??? {hueRotate || 0} degrés</label>\r\n                                <input\r\n                                    type=\"range\"\r\n                                    min=\"-8000\"\r\n                                    max=\"8000\"\r\n                                    defaultValue={hueRotate || 0}\r\n                                    onChange={e => {\r\n                                        e.preventDefault();\r\n                                        onChange( {\r\n                                            key: 'hueRotate'\r\n                                            ,unity: 'deg'\r\n                                            ,val: parseInt(e.target.value)\r\n                                        } );\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </form>\r\n                    )\r\n                }\r\n            </>\r\n        ) ;\r\n    }\r\n};\r\n","import React from 'react';\r\nimport ImgFilter from './../../core/ImgFilter/ImgFilter';\r\nimport Loader from './../../core/Loader/Loader';\r\nimport User from './../../core/User/User';\r\nimport {Redirect} from 'react-router-dom';\r\nimport FormFilter from './../../core/FormFilter/FormFilter';\r\nimport docCookies from 'doc-cookies';\r\nimport './PictureRoute.css';\r\n\r\nexport default class PictureRoute extends React.Component {\r\n    \r\n    state = {\r\n        loaderImg: <Loader width={64} type=\"earth\" bg=\"rgba(0,0,0,.9)\" />\r\n        ,loaderUser: <Loader width={64} type=\"timer\" bg=\"rgba(30,30,42,.95)\" />\r\n        ,loaderForm: <Loader width={48} type=\"az\" bg=\"rgba(30,30,42,.95)\" />\r\n        ,user: null\r\n        ,picture: null\r\n        ,redirect: null\r\n        ,blurValue: null\r\n        ,contrastValue: null\r\n        ,grayscaleValue: null\r\n        ,hueRotateValue: null\r\n        ,timeUpdate: 20\r\n    } ;\r\n\r\n    constructor( props ) {\r\n\r\n        super( props );\r\n\r\n        this.pictureID = document.location.hash.split('/').pop() ;\r\n        this.userID = localStorage.getItem('userID') || docCookies.getItem('userID');\r\n        this.updatePicture = this.updatePicture.bind( this );\r\n        this.timeUpdateUp = this.timeUpdateUp.bind( this );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n        clearInterval( this.updateID ) ;\r\n        clearInterval( this.timeUpdateID ) ;\r\n    }\r\n\r\n    componentDidMount() {\r\n        // check logged\r\n        // get img with id in url\r\n        \r\n        if( !this.userID ) {\r\n            this.setState( {\r\n                loaderImg: null\r\n                ,loaderUser: null\r\n                ,redirect: <Redirect to=\"/\" /> \r\n            } ) ;\r\n        } else {\r\n            \r\n            this.props.db.getUser( this.userID )\r\n            .then( user => {\r\n\r\n                if( user ) {\r\n\r\n                    this.setState( {\r\n                        u: user \r\n                        ,loaderUser: false\r\n                    } , () => {\r\n                        \r\n                        this.props.db.pictures.doc( this.pictureID )\r\n                        .get()\r\n                        .then( picture => {\r\n                            this.setState({\r\n                                picture: picture\r\n                                ,loaderImg: false\r\n                                ,loaderForm: false\r\n                                ,blurValue: parseInt((picture.get('filters').find( f => f.key === 'blur' ) || {}).val)*2\r\n                                ,contrastValue: parseInt((picture.get('filters').find( f => f.key === 'contrast' ) || {}).val)\r\n                                ,grayscaleValue: parseInt((picture.get('filters').find( f => f.key === 'grayscale' ) || {}).val)\r\n                                ,hueRotateValue: parseInt((picture.get('filters').find( f => f.key === 'hue-rotate' ) || {}).val)\r\n                            } , () => {\r\n                                // go interval update img after get image\r\n                                this.updateID = setInterval( this.updatePicture , 2e4 );\r\n                                this.timeUpdateID = setInterval( this.timeUpdateUp , 1e3 );\r\n                            } );\r\n                            \r\n                        } )\r\n                        .catch( err => {\r\n                            this.setState( {\r\n                                loaderImg: null\r\n                                ,loaderUser: null\r\n                                ,redirect: <Redirect to=\"/\" />\r\n                            } ) ;   \r\n                        } );\r\n\r\n                    }  ) ;\r\n                    \r\n                } else {\r\n                    this.setState( {\r\n                        loaderImg: null\r\n                        ,loaderUser: null\r\n                        ,redirect: <Redirect to=\"/\" />\r\n                    } ) ;\r\n                }\r\n            } ) ;\r\n            \r\n        }\r\n    }\r\n\r\n    \r\n    timeUpdateUp() {\r\n        this.setState( state => ({ timeUpdate: state.timeUpdate-1 >= 0 ? state.timeUpdate-1: 0 }) );\r\n    }\r\n \r\n    updatePicture() {\r\n\r\n        const {picture} = this.state;\r\n\r\n        let currentFilters = localStorage.getItem( `filters-${picture.id}` ) ;\r\n\r\n        try {\r\n\r\n            currentFilters = JSON.parse( currentFilters ) ;\r\n\r\n        } catch( SyntaxError ) {\r\n\r\n            currentFilters = [] ;\r\n        }\r\n        finally {\r\n            if( !currentFilters )\r\n                currentFilters = [];\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.setState( {\r\n                loaderForm: <Loader width={48} type=\"az\" bg=\"rgba(30,30,42,.95)\" />\r\n            } ) ;\r\n        }, 420);\r\n\r\n        this.props.db.pictureSetFilters(\r\n            picture.id , currentFilters\r\n        ).then( () => {\r\n\r\n\r\n            this.props.db.pictures.doc( this.pictureID )\r\n            .get()\r\n            .then( pic => {\r\n                this.setState( {\r\n                    picture: pic\r\n                    ,loaderForm: false\r\n                    ,blurValue: parseInt((pic.get('filters').find( f => f.key === 'blur' ) || {}).val) * 2\r\n                    ,contrastValue: parseInt((pic.get('filters').find( f => f.key === 'contrast' ) || {}).val)\r\n                    ,grayscaleValue: parseInt((pic.get('filters').find( f => f.key === 'grayscale' ) || {}).val)\r\n                    ,hueRotateValue: parseInt((picture.get('filters').find( f => f.key === 'hue-rotate' ) || {}).val)\r\n                    ,timeUpdate: 20\r\n                } )\r\n            } )\r\n        } )\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const {\r\n            loaderImg\r\n            ,loaderUser\r\n            ,loaderForm\r\n            ,u\r\n            ,picture\r\n            ,blurValue\r\n            ,contrastValue\r\n            ,grayscaleValue\r\n            ,hueRotateValue\r\n            ,timeUpdate\r\n        } = this.state;\r\n\r\n        return(\r\n            <section\r\n                className=\"PictureRoute\"\r\n            >\r\n\r\n                <header>\r\n                    <User\r\n                        u={u}\r\n                        load={loaderUser}\r\n                    />\r\n                </header>\r\n\r\n                <aside>\r\n                    <ImgFilter\r\n                        load={loaderImg}\r\n                        pics={picture}\r\n                        classFig=\"fig-filter\"\r\n                        figcaption={\r\n                            <>\r\n                                {\r\n                                    !loaderImg && (\r\n                                        <>\r\n                                            <b>{picture.get('name')}</b> \r\n                                            - <i>{new Date(picture.get('createAt')).toLocaleDateString()}</i>\r\n                                        </>\r\n                                    )\r\n                                }\r\n                            </>\r\n                        }\r\n                        width={512} // default width\r\n                    />\r\n                </aside>\r\n\r\n                <p>\r\n                    {\r\n                        !loaderForm && (\r\n                            <>\r\n                                <span>\r\n                                    Recalcul de l'image dans {timeUpdate} \r\n                                </span>\r\n                                <br />\r\n                                <button\r\n                                    onClick={() => {\r\n                                        clearInterval( this.updateID );\r\n                                        this.updatePicture();\r\n                                        this.updateID = setInterval( this.updatePicture , 2e4 );\r\n                                        this.setState( { timeUpdate: 20 } );\r\n                                    }}\r\n                                >\r\n                                    maintenant\r\n                                </button>\r\n                            </>\r\n                        )\r\n                    }\r\n                </p>\r\n\r\n                <FormFilter\r\n                    load={loaderForm}\r\n                    contrastValue={contrastValue}\r\n                    blurValue={blurValue}\r\n                    grayscaleValue={grayscaleValue}\r\n                    hueRotate={hueRotateValue}\r\n                    onChange={({key,val,unity}) => {\r\n\r\n                        let currentFilters = localStorage.getItem( `filters-${picture.id}` ) ;\r\n\r\n                        try {\r\n\r\n                            currentFilters = JSON.parse( currentFilters ) ;\r\n                        } catch( SyntaxError ) {\r\n\r\n                            currentFilters = [] ;\r\n                        }\r\n                        finally {\r\n                            if( !currentFilters )\r\n                                currentFilters = [];\r\n                        }\r\n\r\n                        let found = false;\r\n                        currentFilters = currentFilters.map( filter => {\r\n\r\n                            if(filter.key === key) {\r\n                                filter.val = val+unity;\r\n                                found = true;\r\n                            }\r\n                            return filter;\r\n                        } ) ;\r\n\r\n                        if( !found )\r\n                            currentFilters.push( {\r\n                                key: key\r\n                                ,val: val+unity\r\n                            } )\r\n\r\n                        localStorage.setItem( \r\n                            `filters-${picture.id}` ,\r\n                            JSON.stringify( currentFilters )\r\n                        ) ;\r\n\r\n                        const delta = {};\r\n\r\n                        if( key === 'blur' )\r\n                            val *= 2;\r\n\r\n                        delta[ key+'Value' ] = parseInt( val );\r\n\r\n                        this.setState( delta );\r\n                    }}\r\n                />\r\n            \r\n            </section>\r\n        )\r\n    }\r\n};\r\n","import React from 'react';\r\nimport Notif from './../../core/Notif/Notif';\r\nimport {HashLink as Link} from 'react-router-hash-link';\r\n\r\nfunction InDev() {\r\n\r\n    return (\r\n        <>\r\n            <h1\r\n                style={{\r\n                    textAlign: 'center'\r\n                    ,fontWeight: 600 \r\n                }}\r\n            >\r\n                La fonctionnalité d'ajout de compte et actuellement en développement<br />\r\n                vous pouvez contribuez à&nbsp;\r\n                <a \r\n                    href=\"https://github.com/Orivoir/picsy\"\r\n                    style={{\r\n                        color: 'rgb(75,75,75)'\r\n                    }}\r\n                >\r\n                    <i className=\"fab fa-github\"></i>\r\n                    Picsy\r\n                </a>\r\n            </h1>\r\n\r\n            <Notif\r\n                type=\"bug\" \r\n                text={(\r\n                    <>\r\n                        page en expérimentation&nbsp;\r\n                        <i className=\"fas fa-vial\"></i>\r\n                    </>\r\n                )}\r\n            />\r\n            <br />\r\n            <Notif \r\n                type=\"infos\"\r\n                text={(\r\n                    <>\r\n                        cette fonctionnalité sera disponible dans 3 jours ( en gros )\r\n                    </>\r\n                )}\r\n            />\r\n            <br />\r\n            <Notif \r\n                type=\"back\"\r\n                text={(\r\n                    <Link to='/dash'>\r\n                        tableau de board\r\n                    </Link>\r\n                )}\r\n            />\r\n        </>\r\n    ) ;\r\n}\r\n\r\nexport default InDev;","import Logged from './../pages/Logged/Logged';\r\nimport Dash from './../pages/Dash/Dash';\r\nimport AlbumRoute from './../pages/AlbumRoute/AlbumRoute';\r\nimport PictureRoute from './../pages/PictureRoute/PictureRoute';\r\nimport ChangeUser from './../pages/ChangeUser/ChangeUser';\r\n\r\nconst routes = [\r\n    {\r\n        id:0,\r\n        exact:true,\r\n        render: Logged,\r\n        props: {},\r\n        path: \"/\",\r\n        name: \"Home\"\r\n    },\r\n    {\r\n        id:1,\r\n        exact:false,\r\n        render: Dash,\r\n        props: {},\r\n        path: \"/dash\",\r\n        name: \"dashboard\"\r\n    },\r\n    {\r\n        id:2,\r\n        exact:false,\r\n        render: AlbumRoute,\r\n        props: {\r\n            action: \"add\"\r\n        },\r\n        path: \"/add-album\",\r\n        name: \"album add\"\r\n    },\r\n    {\r\n        id:3,\r\n        exact:false,\r\n        render: AlbumRoute,\r\n        props: {\r\n            action: \"show\"\r\n        },\r\n        path: \"/album/:id\",\r\n        name: \"show album\"\r\n    },\r\n    {\r\n        id:5,\r\n        exact:false,\r\n        render: PictureRoute,\r\n        props: {},\r\n        path: \"/filter/:id\",\r\n        name: \"filter album\"\r\n    },\r\n    {\r\n        id:6,\r\n        exact:false,\r\n        render: ChangeUser,\r\n        props: {\r\n            action: \"filter\"\r\n        },\r\n        path: \"/add-account\",\r\n        name: \"filter album\"\r\n    }\r\n] ;\r\n\r\nexport default routes;\r\n","import React from 'react';\r\nimport InDev from './../../core/InDev/InDev';\r\n\r\nexport default class className extends React.Component {\r\n    \r\n    render() {\r\n\r\n        return(\r\n            <>\r\n                <InDev />\r\n            </>\r\n        )\r\n    }\r\n};\r\n","import React from 'react';\r\nimport collections from './core/firebase/firebase';\r\nimport routes from './core/routes';\r\nimport {Switch,Route} from 'react-router-dom';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <>\r\n      <Switch>\r\n        {\r\n          routes.map( route => (\r\n            <Route \r\n              key={route.id}\r\n              path={route.path}\r\n              exact={route.exact}\r\n              render={() => (\r\n                <route.render\r\n                  {...route.props}\r\n                  db={collections}\r\n                />\r\n              )}\r\n            />\r\n          ) )\r\n        }\r\n      </Switch>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  // SecurityError\n  // if ('serviceWorker' in navigator) {\n  //   navigator.serviceWorker.ready.then(registration => {\n  //     registration.unregister();\n  //   });\n  // }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {HashRouter as Router} from 'react-router-dom';\n\nReactDOM.render(\n    <Router>\n        <App />\n    </Router>\n    , document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}